{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"index.html","title":"Welcome to xCropProtection","text":"<p>Welcome to the xCropProtection (xCP) documentation. This documentation provides an introduction and will walk new users through how to get started with the xCropProtection Landscape Model component, including explanations for sample input files.</p>"},{"location":"index.html#background","title":"Background","text":"<p>Chemical Crop Protection is under scientific and public debate. There seems broad concensus that chemical crop protection will have to be more targeted and generally reduced in the future. In this context also well established risk assessment principles and schemes are questioned. In context of these developments, today already specific risk assessment and risk management questions come up which require operational instruments to model real-world chemical plant protection and its environmental impact, eg., </p> <ul> <li>Holistic view to risk, multiple stressors analysis, eg, bee risk assessment (honey bee, wild bees, pollinators, systems-based approach, EFSA, Bee Guidance) </li> <li>Risk Assessment Recovery Option (EFSA, Aquatic Guidance) </li> <li>Environmental Impact Reduction (EIR), eg, what if analysis, assessment and documentation of real-world EIR by new products and digital environmental safety solutions </li> <li>Insect decline causal analysis and biodiversity enhancement </li> <li>Monitoring (design, insights, transfer of results to other regions and times) </li> <li>Solutions for Integrated Pest Management: improved integration of the use of chemicals and agricultural practices to reduce environmental impact, comparison of pest control options (eg, weed control)</li> <li>Specific Protection Goals: identification of driving factors of populations dynamics for targeted chemical risk assessment endpoints and schemes  </li> <li>Ecosystem Services (Millennium Ecosystem Assessment): improvend quantitative insights into real-world Ecosystem Services for more explicit and transparent cost/benefit risk management  </li> </ul> <p>In summary, the work on key topics of the future of pesticide risk assessment and risk management, as well as overarching goals of  sustainable and regenerative agriculture requires improved operational instruments which allow to better understand real-world implications. The development of xCP component, in the context of a modular landscape modelling approach (xLandscape), is intended to support these developments. </p>"},{"location":"index.html#intro","title":"Intro","text":"<p>xCropProtection is a landscape model component for simulating applications of plant protection products (PPPs) on fields within a given landscape. Multiple PPP uses in multiple crops can be simulated, comprising typical PPP spray sequences, eg. as recommended by plant protection services. This includes chemical and alternative plant protection measures.  </p> <p>The user defines PPP uses in a Crop Protection Calender, including application technology, and mitigation measures for reducing exposure (risk). The approach of using a Crop Protection Calender is based on agricultural practice, where pest control measures for a crop are typically planned based on experiance, PPP availability and other factors. Crop protection plans are made eg, by official plant protection advisory services, farmers, or PPP producers. Besides reflecting ag practice, the approach of a CPC also addresses modelling practice in risk assessment which typically focus on a certain indication, conducted over long time periods. Beyond these established uses, alternative CPCs can be used to assess the environmental impact of alternative pest control options, or to design new pest control means against established ones, considered as baselines.  </p> <p>On each time step (eg, day) and field in a simulation, xCP checks if there are products to apply. If so, exact application details are determined based on model parameterisation (eg, deterministic or by sampling from  from distributions given by the user) and executed.  </p> <p>xCP is basically built to be used as a component, integrated into the modular landscape modelling approach xLandscape. However, xCP can be used in any other environment.   </p>"},{"location":"index.html#installation","title":"Installation","text":""},{"location":"index.html#option-1-xcropprotection-demo-model","title":"Option 1: xCropProtection Demo Model","text":"<p>As every component, xCP needs to be operated in a landscape modelling environment. An example landscape model using xCP was built in the xLandscape framework, called xCropProtectionDemo. A user who just want to explore xCP or only needs the functionality of xCP should clone the repository xCropProtectionDemo. Contact Sascha Bub (sascha.bub@rptu.de) or Thorsten Schad (thorsten.schad@bayer.com) for access to the repository. Cloning steps vary based on the application being used, eg. Sourcetree or Visual Studio Code.  </p> <p>After cloning the repository, a user will have everything necessary to start using xCropProtection including sample scenarios and parametrization files.  </p>"},{"location":"index.html#option-2-add-xcropprotection-to-any-landscape-model","title":"Option 2: add xCropProtection to any Landscape Model","text":"<p>As any other component, xCP is built to be used (together with other components) in the xLandscape framework in order to build a landscape model. </p> <ol> <li>The Landscape Model must first be set up; see the Landscape Model Core's README for detailed instructions.</li> <li>Create an xCropProtection folder in \\core\\components if it does not already exist.</li> <li>Copy the xCropProtection component from GitHub into the xCropProtection subfolder.</li> <li>The file mc.xml contains information about the components that are used in the created xLandscape model. Make use of the xCropProtection component by adding the following lines:</li> </ol> <pre><code>&lt;xCropProtection module=\"components\" class=\"xCropProtection\"&gt;\n    &lt;xCropProtectionFilePath scales=\"global\"&gt;\n        $(_PROJECT_DIR_)\\CropProtection\\$(CropProtectionScenario).xml\n    &lt;/xCropProtectionFilePath&gt;\n    &lt;ParametrizationNamespace scales=\"global\"&gt;\n        urn:xCropProtectionLandscapeScenarioParametrization\n    &lt;/ParametrizationNamespace&gt;\n    &lt;SimulationStart type=\"date\" scales=\"global\"&gt;\n        $(SimulationStart)\n    &lt;/SimulationStart&gt;\n    &lt;SimulationEnd type=\"date\" scales=\"global\"&gt;\n        $(SimulationEnd)\n    &lt;/SimulationEnd&gt;\n    &lt;RandomSeed type=\"int\" scales=\"global\"&gt;\n        0\n    &lt;/RandomSeed&gt;\n    &lt;OutputApplicationType&gt;\n        $(OutputApplicationType)\n    &lt;/OutputApplicationType&gt;\n    &lt;ProductDatabase&gt;\n        $(_PROJECT_DIR_)\\$(ProductDatabase)\n    &lt;/ProductDatabase&gt;\n    &lt;Fields&gt;\n        &lt;FromOutput component=\"LandscapeScenario\" output=\"FeatureIds\"/&gt;\n    &lt;/Fields&gt;\n    &lt;LandUseLandCoverTypes&gt;\n        &lt;FromOutput component=\"LandscapeScenario\" output=\"FeatureTypeIds\"/&gt;\n    &lt;/LandUseLandCoverTypes&gt;\n    &lt;FieldGeometries&gt;\n        &lt;FromOutput component=\"LandscapeScenario\" output=\"Geometries\"/&gt;\n    &lt;/FieldGeometries&gt;\n&lt;/xCropProtection&gt;\n</code></pre>"},{"location":"index.html#getting-started","title":"Getting started","text":"<p>Below is an example of the folder structure of the xCropProtectionDemo model after being cloned:</p> <pre><code>\u251c\u2500\u2500 CropProtection\n\u2502   \u251c\u2500\u2500 PPMCalendars\n\u2502   \u2502   \u251c\u2500\u2500 Rummen-full\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 PPMCalendar-1a-L1.xml\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 PPMCalendar-1a-L2.xml\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 PPMCalendar-1b-L1.xml\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 PPMCalendar-1b-L2.xml\n\u2502   \u2502   \u251c\u2500\u2500 Rummen-xCP-TestingScenario\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 PPMCalendar-222.xml\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 PPMCalendar-444.xml\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u251c\u2500\u2500 Technologies.xml\n\u2502   \u251c\u2500\u2500 xCropProtection-rummen-full.xml\n\u2502   \u251c\u2500\u2500 xCropProtection-rummen-xCP-testing.xml\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 analysis\n\u2502   \u251c\u2500\u2500 ProductNames.csv\n\u2502   \u251c\u2500\u2500 ProductTypes.csv\n\u2502   \u251c\u2500\u2500 requirements.txt\n\u2502   \u251c\u2500\u2500 xCP_map_vis.ipynb\n\u2502   \u251c\u2500\u2500 xCP_plots.ipynb\n\u2502   \u251c\u2500\u2500 xCP_total_loading.ipynb\n\u2502   \u2514\u2500\u2500 xCP_write_csv.ipynb\n\u251c\u2500\u2500 model\n\u2502   \u251c\u2500\u2500 core\n\u2502   \u251c\u2500\u2500 variant\n\u2502   \u2502   \u251c\u2500\u2500 experiment.xml\n\u2502   \u2502   \u251c\u2500\u2500 mc.xml\n\u2502   \u2502   \u2514\u2500\u2500 package.xsd\n\u251c\u2500\u2500 scenario\n\u2502   \u251c\u2500\u2500 Rummen-full\n\u2502   \u2502   \u251c\u2500\u2500 Documentation\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 scenario-geo-image.jpg\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 scenario-project.qgz\n\u2502   \u2502   \u251c\u2500\u2500 geo\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 (multiple shp files)\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 package.xinfo\n\u2502   \u2502   \u251c\u2500\u2500 weather\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 weather_mars-97100.csv\n\u2502   \u2502   \u2514\u2500\u2500 scenario.xproject\n\u2502   \u251c\u2500\u2500 Rummen-xCP-TestingScenario\n\u2502   \u2502   \u251c\u2500\u2500 Documentation\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 scenario-geo-image.jpg\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 scenario-project.qgz\n\u2502   \u2502   \u251c\u2500\u2500 geo\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 (multiple shp files)\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 package.xinfo\n\u2502   \u2502   \u2514\u2500\u2500 scenario.xproject\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 .gitignore\n\u251c\u2500\u2500 .gitmodules\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 __start__.bat\n\u2514\u2500\u2500 template.xrun\n</code></pre> <p>To start xCropProtection using the sample scenario, drag template.xrun onto __start__.bat. This will start an xCropProtection run using Rummen-xCP-TestingScenario as input. Output of the model run can be found in the newly created \\run\\Rummen-xCP-TestingScenario\\mcs\\[mc run ID]\\store\\arr.dat.</p> <p>Note</p> <p>SimIDs need to be unique. xCropProtection will create a folder for each run using the SimID defined in template.xrun. The SimID cannot be the same as a folder already contained in the run folder. In case you want to run a simulation with the same SimID you need to delete this folder first.</p>"},{"location":"index.html#viewing-and-analyzing-the-output","title":"Viewing and analyzing the output","text":""},{"location":"index.html#hdfview","title":"HDFView","text":"<p>xLandscape makes use of multidimensional data stores. At present, HDF is being used. To view the raw output of xCropProtection, open \\run\\Rummen-xCP-TestingScenario\\mcs\\[mc run ID]\\store\\arr.dat with a HDF5 file viewer such as HDFView. Expand the xCropProtection folder.</p> <p></p> <p>Right click on an item and click \"Open\" to view its attributes and data.</p>"},{"location":"index.html#jupyter-notebooks","title":"Jupyter Notebooks","text":"<p>The analysis folder contains Jupyter notebooks which can analyze and visualize the output of xCropProtection. requirements.txt lists python packages necessary to run the Jupyter notebooks in this folder.</p>"},{"location":"index.html#xcp_write_csvipynb","title":"xCP_write_csv.ipynb","text":"<p>xCP_write_csv.ipynb (version 1.0) writes the contents of arr.dat to a csv file. User parameters:</p> <p><code>xcrop_arrdat_path</code> : C:\\path\\to\\arr.dat</p> <p><code>app_rates_path</code> : C:\\path\\to\\output_file.csv</p> <p>In the last cell, comment or uncomment any of the following lines to change the columns written to the csv.</p> <pre><code>dfs.append(pandas.DataFrame(application_dates, columns=[\"ApplicationDates\"]))\ndfs.append(pandas.DataFrame(application_dates_day_month, columns=[\"ApplicationDayMonth\"]))\ndfs.append(pandas.DataFrame(applied_features_data, columns=[\"FeatureID\"]))\ndfs.append(pandas.DataFrame(application_rates_data, columns=[\"ApplicationRates(g/ha)\"]))\ndfs.append(pandas.DataFrame(decode_PPP, columns=[\"AppliedPPP\"]))\ndfs.append(pandas.DataFrame(geom_project_area_ha, columns=[\"AppliedArea(ha)\"]))\ndfs.append(pandas.DataFrame(application_rates_data * geom_project_area_ha, columns=[\"AppliedMass(g)\"]))\ndfs.append(pandas.DataFrame(drift_reduction_data, columns=[\"TechnologyDriftReductions\"]))\n</code></pre>"},{"location":"index.html#xcp_plotsipynb","title":"xCP_plots.ipynb","text":"<p>xCP_plots.ipynb (version 1.0) plots application rates (as a scatter plot) of all product applications in a user-defined year. User parameters:</p> <p><code>xcrop_arrdat_path</code> : C:\\path\\to\\arr.dat</p> <p><code>year_to_chart</code> : only display data for this year</p>"},{"location":"index.html#xcp_total_loadingipynb","title":"xCP_total_loading.ipynb","text":"<p>xCP_total_loading.ipynb (version 1.0) charts the total loading over time for a specific field. Total loading is calculated by plotting a cumulative sum of mass applied to a field. User parameters:</p> <p><code>xcrop_arrdat_path</code> : C:\\path\\to\\arr.dat</p> <p><code>total_loading_path</code> : C:\\path\\to\\output_file.csv</p> <p><code>input_LULC_path</code> : C:...\\xCropProtection\\scenario\\scenario_name\\geo\\input_spatial_data.shp</p> <p><code>feature_to_chart</code> : ID of the field to chart. If a field ID is invalid, the notebook will plot the total loading of the first field it reads.</p>"},{"location":"index.html#xcp_map_visipynb","title":"xCP_map_vis.ipynb","text":"<p>xCP_map_vis.ipynb (version 1.0) visualizes applications on a map with the ability to advance through time. Currently, this is only built and tested for runs using the Rummen-xCP-TestingScenario. Users should be aware that the map visualization will need code modification and additional input to work with other scenarios. User parameters:</p> <p><code>data_store_path</code> : C:\\path\\to\\arr.dat</p> <p><code>output_map_html_path</code> : C:path\\to\\output\\html_map.html</p> <p><code>output_map_html_2_path</code> : C:\\path\\to\\output\\html_map_2.html</p> <p><code>product_table</code> : C:...\\xCropProtection\\analysis\\ProductTypes.csv. This table defines product names and their type.</p> <p><code>product_colors</code> : C:..\\xCropProtection\\analysis\\ProductNames.csv. This file defines product names and the color they will be symbolized with.</p>"},{"location":"index.html#acknowledgements","title":"Acknowledgements","text":"<p>The need and the development of the xCP component was initiated by Thorsten Schad (thorsten.schad@bayer.com). It's realisation was only possibly due to the contribution of colleagues listed below and the sponsoring by Bayer AG.  </p> <p></p>"},{"location":"create-scenario.html","title":"Scenarios","text":"<p>In the context of risk assessment for pesticides, a Scenario refers to a set of conditions and assumptions used to model and predict the environmental fate and effects of pesticides (Glossary/Scenarios). A Scenario is typically composed of </p> <ol> <li>environmental conditions (abiotic, biotic, land cover, etc.)</li> <li>agricultural practise, esp. land use and land management,  including the use of PPPs, as refered to as PPP use scenario</li> </ol> <p>In xCP, the term PPP use scenario is simultaneously addressed as Parameterisation of xCP (as part of a full parameterisation of a landscape model). The environmental conditions together with the land use are often called a landscape scenario.  In an xCP parameterisation, PPP use are typically defined related to land use types (eg, the use of a fungicide in apples). During runtime xCP evaluates actual land use, ie. land use data can be static or dynamic. </p> <p>Note: This section provides an introduction to xCP scenarios on a technical level with the intention to enable colleagues with technical experiance to build scenarios and to use xCP. However, we plan to develop a graphical user interface (GUI) that allows any user to intuitively build xCP scenarios. </p>"},{"location":"create-scenario.html#example-scenarios","title":"Example Scenarios","text":"<p>The xCropProtectionDemo model is packaged with example scenarios located in the scenario folder. Example scenarios are of static land use types.  </p> <ul> <li> <p>A scenario in Rummen, Belgium (Rummen-full)</p> </li> <li> <p>A subset of the Rummen-full scenario in Rummen, Belgium (Rummen-xCP-TestingScenario)</p> </li> <li> <p>A small scenario located in the Wetterau (Hessian, Germany) (Wetterau-scenario-subset)  </p> </li> </ul>"},{"location":"create-scenario.html#custom-scenarios","title":"Custom Scenarios","text":"<p>To create a new scenario for use with xCropProtection, users should follow these steps.</p> <ol> <li>In folder scenario\\, create a new folder with the scenario name. In this example, the scenario will be called \"test-scenario\".</li> <li> <p>In folder scenario\\test-scenario\\, create a folder named \"geo\". Copy a scenario.xproject file from a different scenario or create a new file and copy the following xml text: <pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;Project \nxmlns=\"urn:xLandscapeModelScenarioInfo\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"urn:xLandscapeModelScenarioInfo ../../model/core/base/scenario.xsd\"&gt;\n    &lt;Name&gt;SCENARIO NAME&lt;/Name&gt;\n    &lt;Version&gt;1.0&lt;/Version&gt;\n    &lt;SupportedRuntimeVersions&gt;\n        &lt;Version variant=\"xCropProtectionDemo\" number=\"0.1\"/&gt;\n    &lt;/SupportedRuntimeVersions&gt;\n    &lt;Description&gt;DESCRIPTION&lt;/Description&gt;\n    &lt;TemporalExtent&gt;\n        &lt;FromDate&gt;2000-01-01&lt;/FromDate&gt;\n        &lt;ToDate&gt;2019-12-31&lt;/ToDate&gt;\n    &lt;/TemporalExtent&gt;\n    &lt;Changelog&gt;\n        &lt;Version number=\"1.0\" date=\"2000-01-01\"&gt;\n            &lt;Change author=\"your initials\"&gt;Scenario created.&lt;/Change&gt;\n        &lt;/Version&gt;\n    &lt;/Changelog&gt;\n    &lt;Content&gt;\n        &lt;Item name=\"LandscapeScenario\" target=\"geo/package.xinfo\" version=\"1\" /&gt;\n    &lt;/Content&gt;\n    &lt;Contacts&gt;\n        &lt;Contact&gt;Thorsten Schad - thorsten.schad@bayer.com&lt;/Contact&gt;\n    &lt;/Contacts&gt;\n&lt;/Project&gt;\n</code></pre> Add correct values for all elements in scenario.xproject. Preferably, use an XML capable editor (eg, VSCode, PyCharm xxx) and build the scenario.xproject using such a template or from scratch. Note: It is important to link the XML to its schema: <pre><code>xmlns=\"urn:xLandscapeModelScenarioInfo\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"urn:xLandscapeModelScenarioInfo ../../model/core/base/scenario.xsd\"&gt;\n</code></pre></p> </li> <li> <p>In the geo folder:</p> <ol> <li>Place the shapefiles of the spatial data to be used in the scenario.</li> <li>Create package.xinfo. Copy from another scenario or use the following text: <pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;landscape_package \n    xmlns=\"urn:xCropProtectionLandscapeScenarioGeoPackage\" \n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n    xsi:schemaLocation=\"urn:xCropProtectionLandscapeScenarioGeoPackage ../../../model/variant/package.xsd\"\n&gt;\n&lt;meta&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;target_type&gt;222&lt;/target_type&gt;\n    &lt;habitat_types&gt;0&lt;/habitat_types&gt;\n&lt;/meta&gt;\n&lt;base&gt;\n    &lt;base_landscape_geometries&gt;LULC.shp&lt;/base_landscape_geometries&gt;\n    &lt;feature_id_attribute&gt;ALVID&lt;/feature_id_attribute&gt;\n    &lt;feature_type_attribute&gt;LULCTypeId&lt;/feature_type_attribute&gt;\n    &lt;additional_attributes/&gt;\n&lt;/base&gt;\n&lt;supplementary&gt;\n&lt;/supplementary&gt;\n&lt;supplementary_shapefiles/&gt;\n&lt;/landscape_package&gt;\n</code></pre> <code>base_landscape_geometries</code> defines the name of the shapefile contained in the geo folder. <code>feature_id_attribute</code> defines the column of the shape file which is used to distinguish individual fields/features. It is not recommended to use OBJECTID for this xxx. <code>feature_type_attribute</code> defines the column of the shape file to specifies a field/feature's LULC type. The TargetCrops value in PPMCalendar.xml refers to the field defined in <code>feature_type_attribute</code>. </li> </ol> </li> <li>In CropProtection\\, create a file named xCropProtection-test-scenario.xml. It can be left blank for the moment.  </li> <li>In CropProtection\\PPMCalendars\\, create a folder with the same name as the new scenario. In that folder, place all PPMCalendar.xml files that should be included with the new scenario. Note that not every file in this folder will be used during a run of xCropProtection, files must first be added to xCropProtection-test-scenario.xml. Examples of PPMCalendar.xml files can be found in Templates.  </li> <li>Modify CropProtection\\xCropProtection-test-scenario.xml to include PPMCalendars. Sample: <pre><code>&lt;xCropProtection xmlns=\"urn:xCropProtectionLandscapeScenarioParametrization\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"urn:xCropProtectionLandscapeScenarioParametrization ../model/core/components/xCropProtection/xCropProtection.xsd\"&gt;\n    &lt;PPMCalendars&gt;\n        &lt;PPMCalendar include=\"PPMCalendars/test-scenario/PPMCalendar-1.xml\"/&gt;\n        &lt;PPMCalendar include=\"PPMCalendars/test-scenario/PPMCalendar-2.xml\"/&gt;\n    &lt;/PPMCalendars&gt;\n    &lt;Technologies include=\"Technologies.xml\"/&gt;\n&lt;/xCropProtection&gt;\n</code></pre> Technologies.xml will exist after cloning xCropProtection. However, if a PPMCalendar contains a Technology not already included in Technologies.xml, it must be added to the file in a manner consistent with the elements already present.  </li> <li> <p>Make a copy of template.xrun (the .xrun file represents the actual landscape model parameterisation); rename the copy with a unique name. Change elements in the file so that xCropProtection uses the new scenario files. Be sure to change:</p> <ul> <li>LandscapeScenario: scenario/test-scenario</li> <li>CropProtectionScenario: test-scenario</li> <li>SimID: a string that does not already exist in the run folder</li> <li>SimulationStart and SimulationEnd: set the first and last date to be simulated</li> </ul> </li> </ol> <p>After these steps are completed, the new scenario files should have the following structure:</p> <pre><code>\u251c\u2500\u2500 CropProtection\n\u2502   \u251c\u2500\u2500 PPMCalendars\n\u2502   \u2502   \u251c\u2500\u2500 test-scenario\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 PPMCalendar-2.xml\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 PPMCalendar-1.xml\n\u2502   \u251c\u2500\u2500 Technologies.xml\n\u2502   \u2514\u2500\u2500 xCropProtection-test-scenario.xml\n\u251c\u2500\u2500 scenario\n\u2502   \u251c\u2500\u2500 test-scenario\n\u2502   \u2502   \u251c\u2500\u2500 geo\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 (multiple shp files)\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 package.xinfo\n\u2502   \u2502   \u2514\u2500\u2500 scenario.xproject\n\u2514\u2500\u2500 template-test-scenario.xrun\n</code></pre> <p>Drag template-test-scenario.xrun onto __start__.bat to run xCropProtection using the new scenario.</p>"},{"location":"reference/distributions.html","title":"Distributions","text":""},{"location":"reference/distributions.html#intro","title":"Intro","text":"<p>Being an xLandscape component, xCP basically works explicit, ie, explicitely operates on spatial (eg, fields, region), temporal (eg, day, week, month, season, year) and entities' units (eg, tank, application, indication). However, when simulating real-world landscape-scale phenomenons, eg, for pesticide environmental risk assessment purposes, typically some real-world conditions and processes are not known in detail (down to a number), yet, there is data and/ or knowledge on their general behaviour and ranges. For example, the spatial occurrence and bounderies of fields and species' habitats, together with the fields' historic land use are known (from data bases or remote sensing) with sufficient precision, whereas only reasonable assumptions can be made on the exact land use for next year. For the use of PPPs survey and market data might be available but not their exact use (on specific fields at specific rates) and likewise for a dominating wind direction at a specific day distributions might be available.</p> <p>This list of vaguely known information for landscape-scale modelling can go on and on. Therefore, xLandscape combines the operation of explicit dimensions, units and data with the operation of parameters' variability (and uncertainty). In an XLandscape model run, defined variability of natural and agronomic phenomenons is sampled at defined units, and so the space of possible conditions of the modelled systems is screened (eg, environmental, land use, pesticide use, etc.).   </p> <p>Correspondingly, some elements of xCropProtection can be parameterized with probability distributions. When a probability distribution is defined, the distribution is sampled every time step an application occurs (daily). The following are elements which support probability distributions:</p> <ul> <li><code>Indications</code></li> <li><code>Indication</code></li> <li><code>ApplicationRate</code></li> <li><code>InCropBuffer</code></li> <li><code>InFieldMargin</code></li> <li><code>MinimumAppliedArea</code></li> </ul> <p>Distribution types currently not available in xCP can be implemented on demand. </p> <p>Illustration of distributions :  </p> <p></p>"},{"location":"reference/distributions.html#uniform-distribution","title":"Uniform distribution","text":"<p>This defines a numeric distribution with an arbitrary outcome between a and b where each outcome is equally likely. a and b are the minimum and maximum values, respectively. The parameters of a uniform distribution are defined with the following steps:</p> <ul> <li>Define the element's type as \"xCropProtection.UniformDistribution\"</li> <li>Add a child element <code>Lower</code>, which defines the minimum value of the distribution<ul> <li>type=\"float\"</li> <li>scales=\"global\"</li> </ul> </li> <li>Add a child element <code>Upper</code>, which defines the maximum value of the distribution<ul> <li>type=\"float\"</li> <li>scales=\"global\"</li> </ul> </li> </ul> <p>Example:</p> <pre><code>&lt;ApplicationRate type=\"xCropProtection.UniformDistribution\" unit=\"g/ha\" scales=\"time/year, space/base_geometry\"&gt;\n    &lt;Lower type=\"float\" scales=\"global\"&gt;50&lt;/Lower&gt;\n    &lt;Upper type=\"float\" scales=\"global\"&gt;75&lt;/Upper&gt; \n&lt;/ApplicationRate&gt;\n</code></pre> <p>Every time an application occurs, xCropProtection will choose a value for <code>ApplicationRate</code> between 50 and 75 following the rules of uniform distributions.</p> <p>Elements which may use this distribution are:</p> <ul> <li><code>ApplicationRate</code></li> <li><code>InCropBuffer</code></li> <li><code>InFieldMargin</code></li> <li><code>MinimumAppliedArea</code></li> </ul>"},{"location":"reference/distributions.html#discrete-uniform-distribution","title":"Discrete uniform distribution","text":"<p>This defines a numeric distribution with an arbitrary outcome between a and b where a finite number of outcomes are equally likely. a and b are the minimum and maximum values, respectively. The parameters of a discrete uniform distribution are defined with the following steps:</p> <ul> <li>Define the element's type as \"xCropProtection.DiscreteUniformDistribution\"</li> <li>Add a child element <code>Lower</code>, which defines the minimum value of the distribution<ul> <li>type=\"float\"</li> <li>scales=\"global\"</li> </ul> </li> <li>Add a child element <code>Upper</code>, which defines the maximum value of the distribution<ul> <li>type=\"float\"</li> <li>scales=\"global\"</li> </ul> </li> </ul> <p>Example:</p> <pre><code>&lt;InCropBuffer type=\"xCropProtection.DiscreteUniformDistribution\" unit=\"m\" scales=\"time/year, space/base_geometry\"&gt;\n    &lt;Lower type=\"float\" scales=\"global\"&gt;0&lt;/Lower&gt;\n    &lt;Upper type=\"float\" scales=\"global\"&gt;10&lt;/Upper&gt; \n&lt;/InCropBuffer&gt;\n</code></pre> <p>Every time an application occurs, xCropProtection will choose a value for that application's <code>InCropBuffer</code> between 0 and 10 following the rules of discrete uniform distributions. Currently, the sampling methods of uniform distributions and discrete uniform distributions are the same in xCropProtection.</p> <p>Elements which may use this distribution are:</p> <ul> <li><code>ApplicationRate</code></li> <li><code>InCropBuffer</code></li> <li><code>InFieldMargin</code></li> <li><code>MinimumAppliedArea</code></li> </ul>"},{"location":"reference/distributions.html#normal-distribution","title":"Normal distribution","text":"<p>This defines a continuous bell-shaped probability distribution of numeric values. It is symmetrical about its mean (\u03bc) and most values cluster around the center of the range. The parameters of a normal distribution are defined with the following steps:</p> <ul> <li>Define the element's type as \"xCropProtection.NormalDistribution\"</li> <li>Add a child element <code>Mean</code>, which defines the mean value of the distribution<ul> <li>type=\"float\"</li> <li>scales=\"global\"</li> </ul> </li> <li>Add a child element <code>SD</code>, which defines the standard deviation of the distribution<ul> <li>type=\"float\"</li> <li>scales=\"global\"</li> </ul> </li> </ul> <p>Example:</p> <pre><code>&lt;ApplicationRate type=\"xCropProtection.NormalDistribution\" unit=\"g/ha\" scales=\"time/year, space/base_geometry\"&gt;\n    &lt;Mean type=\"float\" scales=\"global\"&gt;50&lt;/Mean&gt;\n    &lt;SD type=\"float\" scales=\"global\"&gt;4.5&lt;/SD&gt; \n&lt;/ApplicationRate&gt;\n</code></pre> <p>Every time an application occurs, xCropProtection will choose a value for <code>ApplicationRate</code> following the rules of uniform distributions (with a mean of 50 and a standard deviation of 4.5).</p> <p>Elements which may use this distribution are:</p> <ul> <li><code>ApplicationRate</code></li> <li><code>InCropBuffer</code></li> <li><code>InFieldMargin</code></li> <li><code>MinimumAppliedArea</code></li> </ul>"},{"location":"reference/distributions.html#choice-distribution","title":"Choice distribution","text":"<p>This represents a distribution over a set of objects. Each object has an associated probability that determines how likely that object will be selected compared to the other objects in the distribution. All probabilities must sum to 1.0. The parameters of a choice distribution are defined with the following steps:</p> <ul> <li>Define the element's type as \"xCropProtection.ChoiceDistribution\"</li> <li>Create one or more child elements that represent possible choices<ul> <li>probability=\"x\" where 0 \u2264 x \u2264  1</li> </ul> </li> </ul> <p>Example:</p> <pre><code>&lt;Indication type=\"xCropProtection.ChoiceDistribution\" scales=\"time/year, space/base_geometry\"&gt;\n    &lt;ApplicationSequence probability=\"0.4\"&gt;\n        ...\n    &lt;/ApplicationSequence&gt;\n    &lt;ApplicationSequence probability=\"0.5\"&gt;\n        ...\n    &lt;/ApplicationSequence&gt;\n    &lt;ApplicationSequence probability=\"0.1\"&gt;\n        ...\n    &lt;/ApplicationSequence&gt;\n</code></pre> <p>Elements which may use this distribution are:</p> <ul> <li><code>Indications</code><ul> <li>Child element: <code>Indication</code></li> </ul> </li> <li><code>Indication</code><ul> <li>Child element: <code>ApplicationSequence</code></li> </ul> </li> </ul>"},{"location":"reference/glossary.html","title":"Glossary","text":"<p>Basically, all xCP entities are defined close to the real-world objects they represent (overview graphic on xCP Entities in Indication). </p>"},{"location":"reference/glossary.html#active-substance","title":"Active Substance","text":"<p>An active substance (a.s.) in a plant protection product is any chemical, plant extract, pheromone, or micro-organism (including viruses) that acts against pests or affects plants, parts of plants, or plant products (https://food.ec.europa.eu/plants/pesticides_en). Essentially, it's the component that provides the intended protective or pesticidal effect. Active Substances have physical and chemical properties as well as ecotoxicological endpoints. These data are kept in corresponding databases. </p>"},{"location":"reference/glossary.html#application","title":"Application","text":"<p>When a PPP is/PPPs are applied to a certain crop at a certain field we call this an Application. Typically, a farmer puts a PPP (or a set of PPPs) into a spraying tank, fills the tank up with water, drives to the field and sprays the solution onto the field (into the crop). In xCP context, the term Application is used close to agricultural practice, yet, is related to its use in pesticide risk assessment, especially the exposure modelling part.  An Application is defined by  - the PPP (or PPPs) to be applied  - an Application Rate (eg, in [\u00b5g a.s./ha] or [mL PPP/ha])  - a time when the application is intended (eg, deterministic day or a time window with a related distribution function)  - the technology with which the application will be done (eg, boom sprayer)  - risk mitigation measures (eg, spray buffer, in-crop buffer, drift-reducing nozzles) </p> <p> PPP spray application using a boom sprayer </p> <p>Remark: Influenced by classic exposure modelling, at the current development status, the definition of an Application includes the definition of an application timing, although in agricultural practice typically the use of a PPP is related to crop development stages. Thus, currently, the modeller has to determine the dependence of regional crop development with time. Future xCP versions are planned to allow defining an Application related to crop development stage (which can be provided by databases or crop development modelling). </p>"},{"location":"reference/glossary.html#application-rate","title":"Application Rate","text":"<p>In agricultural practice, the amount of PPPs applied to a field is usually determined as amount PPP by field area.  The farmer typically determines the volume PPP [mL] by field area [ha] (eg, considering the crop development status, 'the higher the crop the more PPP needed').  As risk assessment often focuses on active substance (a.s.), so does modelling. Therefore, in xCP the Application Rate can be defined as amount a.s. or PPP per field ares (eg, [\u00b5g a.s./ha], [mL PPP/ha]).</p>"},{"location":"reference/glossary.html#application-sequence","title":"Application Sequence","text":"<p>A sequence of individual PPP Applications. Each individual Application within an Application Sequence can be defined independently. Thus, an Application Sequence can represent, eg, the multiple use of the same PPP (PPPs) using the same technology and risk mitigation, yet, at individual application rates (eg, as often the case for fungicide uses in orchards). However, an Application Sequence can also represent uses of different PPPs in a sequence (as illustrated in the graphic below).   </p> <p> Illustration of a PPP application sequence using different PPPs (https://rwz.ag/fileadmin2023/Agrarhandel/Weinbau/Mosel/240124_bild_weinbauempfehlung-pflanzenschutz-mosel.png)</p>"},{"location":"reference/glossary.html#application-window","title":"Application Window","text":"<p>The time when an application is planned to be conducted. In a modelling experiment using xCP, an Application Window can be a deterministic day or a time span (eg, 1.-14. April). In the latter case, a probability distribution function is assigned to an application window from which actual application dates are sampled during model runtime. </p> <p>Remark: Influenced by classic exposure modelling, at the current development status, the definition of an Application includes the definition of an application timing (Application Window), although in agricultural practice typically the use of a PPP is related to crop development stages. Thus, currently, the modeller has to determine the dependence of regional crop development with time. Future xCP versions are planned to allow defining an Application related to crop development stage (which can bw provided by databases or crop development modelling). Also, typically farmers' decisions depend on agricultural and environmental conditions. xCP is planned to allow the definition of such dependency rules, eg, not to conduct a certain spray application when a rainstorm is predicted by weather forecast.  </p>"},{"location":"reference/glossary.html#buffer","title":"Buffer","text":"<p>A distance ([m]) that is kept (has to be kept) to a certain entity during an agricultural activity. Buffers are typically used to implement risk mitigation means, eg, to reduce spray-drift depositions into habitats of non-target-organisms. To protect aquatic organisms no-spray buffers are defined as distance to water bodies (eg, a PPP is allowed to be spray no closer than 10 m distance to streams). To protect terrestric organisms, often in-field or in-crop buffers are defined (eg, spraying has to keep a 5 m distance from the cropped/field boundery).</p>"},{"location":"reference/glossary.html#configuration","title":"Configuration","text":"<p>As for each xLandscape component and landscape model, user simulation inputs and control settings are separated in two different levels, a Configuration and a Parameterisation level: - the configuration of a component (like xCP) allows to change fundamental model behaviour (eg, minimum sprayed area, in-crop buffer calculation). - the Parameterisation level of a component represent the actual user interface, ie, the model parameters exposed to the user. Inputs made by the user in the parameterisation file define a landscape modelling Experiment.  </p> <p>The decision on which model component parameters should be exposed as user interface in the Parameterisation level depends on the purpose of the model and the user group. The assignment of model component parameters to either the configuration or the Parameterisation level can be changed with minimum effort (xLandscape-Parameters).  </p> <p>Both, configuration and Parameterisation refer to direct user inputs (user interaction) and are separated from more extense data inputs like land use data, weather data or pesticide phys-chem properties. Typically, in the user inputs links to such databases to be used in a landscape modelling Experiment are defined wheras the actual data are taken from these databases.  </p>"},{"location":"reference/glossary.html#crop-protection-calender","title":"Crop Protection Calender","text":"<p>The Crop Protection Calender (CPC) is a key parameterisation element of xCP. It is the entry point of each xCP PPP use scenario. In agricultural practice, pest control measures for a crop are typically planned based on experiance, PPP availability and other factors. Such planning can happen quite early in a season or closer to actual pest control. Crop protection plans are made eg, by official plant protection advisory services, farmers, or PPP producers. The term Calender is used to emphasise its temporal (crop development stage) aspects and similarity to everyday calenders we are used to.  adaptation). Besides reflecting ag practice, the approach of using a CPC also addresses modelling practice in risk assessment which typically focus on a certain indication, conducted over long time periods.  Beyond these established uses, alternative CPCs can be used to assess the environmental impact of alternative pest control options, or to design new pest control means against established ones, considered as baselines.  </p> <p>Summary on CPC characteristics: a CPC - is specific to a crop (or group of crops) - has a temporal validity, ie it can be constant over the entire model simulation period or can change at any (defined) time step - can be adaptive, ie can change during model runtime (eg, reacting on pest pressure)  </p> <p></p> <p> Visualisation of plant protection recommendations in apple for the forthcomming season (colors represent insecticides, fungicides, growth regulators and herbicides)</p> <p> Example plant protection recommendations in vines (Bayer AG)</p>"},{"location":"reference/glossary.html#experiment","title":"Experiment","text":"<p>The term Experiment has been introduced to xLandscape model simulations as an analogue to experimental setups. An Experiment has a single model parameterisation (including xCP parameterisation) and consists of a number of Monte Carlo runs. The latter are independent from each other, ie. in each Monte Carlo Run the defined variabilities (Probability Density Functions, PDFs) are independently sampled. As compared to experimental setups, the 'control' setup is basically assumed to be the no-PPP use, ie non-exposure situation. However, alternative baseline scenarios can be defined as separate Experiments (eg, representing alternative/'organic'/'biological' pest control measures) and their outcome considered in the (comparative) analysis.  </p>"},{"location":"reference/glossary.html#in-off-field-in-off-crop","title":"In-/Off-field, In-/Off-crop","text":"<p>In regulatory risk assessment in Europe, protection goals and risk assessment approaches are different for in-field and off-field areas. Basically, the in-field area is given by the property of the farmer and its bounderies (as you might find on cadastral maps). In cultivated landscapes, off-field areas are typically represented by parts of the field margin (eg, between roads and fields), riparian zones, wood margins. When you see vegetation strips between two arable fields, these are caused due to the working space of the agricultural machinery but  do not represent off-field areas as the two arable properties directly border to each other. In-crop simply represents the currently cropped area. Likewise, off-crop represents all (currently) non-cropped area. In-field off-crop areas are such within the field (property) of a farmer, yet, are currently not cropped. Such areas occur as (in-field) field margins, in some cases just left as a fallow strip, in others of sown flowering strip (to support wildlife and forage for insects). Such in-field margins are also intended to reduce potential run-off of pesticide residues from the field into off-field areas and streams.  </p> <p> </p> <p>Illustration of In-/Off-Field vs. In-/Off-Crop definition. The scheme on the left shows the definition as occurring in official documents. The image on the right shows a typical field situation (Hessian, Germany) Illustration of In-/Off-Field vs. In-/Off-Crop using a schematic scenario. The in-field (left part) is cropped (brown color), yet, has an in-field off-crop margin (light green). The off-field area (right part) is divided into two zones, representing two different land cover types in the expample (wood margin, wood core)</p>"},{"location":"reference/glossary.html#in-crop-buffer","title":"In-crop Buffer","text":"<p>As a Risk Mitigation option, typically to reduce spray-drift depositions into off-field areas, in-crop buffer represent a zone (distance [m]) from the cropped area boundery which must not be sprayed with the PPP of such a label instruction. Illustration of In-/Off-Field vs. In-/Off-Crop using a schematic scenario. The in-field (left part) is cropped (brown color), yet, has an in-field off-crop margin (light green) as well as an in-crop buffer (solid box). The cropped area within the in-crop buffer is allowed to be sprayed (solid box), whereas the cropped area outside is not. The off-field area (right part) is divided into two zones, representing two different land cover types in the expample (wood margin, wood core)</p>"},{"location":"reference/glossary.html#indication","title":"Indication","text":"<p>Generally, measures to protect plants (crop) from a certain pest. In xCP, an Indication is an explicit part of its parameterisation. An Indication is made of PPP Application Sequences, at minimum one PPP Application Sequence. If more than one Application Sequence is defined in an Indication, these sequences are considered alternative Application sequences ('OR' related). Thus, the xCP parameterisation entity Indication can be used to define alternative PPP use pattern, eg, reflecting product market shares or fractions 'biological' or 'organic' pest control means. Multiple Indications can be defined in an xCP parameterisation, as many as necessary to represent a simple or complex real-world PPP use pattern in one or many crops. Each individual Indication defined will be conducted in an xCP simulation. </p> <p> xCP entities and their relationship</p>"},{"location":"reference/glossary.html#monte-carlo-run","title":"Monte Carlo Run","text":"<p>Monte Carlo simulations rely on random sampling drawn from probability distributions to obtain numerical results. They can be used to model phenomena with significant variability (and uncertainty) in inputs, such as calculating the possible exposure profile of pesticides in streams in a catchment and the variability of possible effects to aquatic organisms. A nested (2D) Monte Carlo approach allows to also assess consequences of uncertainties to model outcome.  </p> <p>The xLandscape model is a numeric approach that works spatially and temporally explicit. Some phenomenons can be considered deterministic, eg, land use at a certain location and time (as derived from satellite data) or when using historic weather data. However, real-world phenomenons are sometimes not exactly known in space and time, eg, farming activities, catchment conditions or local wind conditions. In such cases, variability distributions can be derived (from data and/or expert judgement), modelled using Monte Carlo, in order to assess the range of possible consequences for the environment and for species. This is done in an xLandscape model by defining an Experiment which consists of a number of Monte Carlo runs to sample the range of possible conditions of the defined real-world landscape system.  </p>"},{"location":"reference/glossary.html#parameterisation","title":"Parameterisation","text":"<p>As for each xLandscape component and landscape model, user simulation inputs and control settings are separated in two different levels, a Configuration and a Parameterisation level: - the Configuration of a component (like xCP) allows to change fundamental model behaviour (eg, minimum sprayed area, in-crop buffer calculation). - the parameterisation level of a component represent the actual user interface, ie, the model parameters exposed to the user. Inputs made by the user in the parameterisation file define a landscape modelling Experiment.  </p> <p>The decision on which model component parameters should be exposed as user interface in the parameterisation level depends on the purpose of the model and the user group. The assignment of model component parameters to either the Configuration or the parameterisation level can be changed with minimum effort (xLandscape-Parameters).  </p> <p>Both, Configuration and parameterisation refer to direct user inputs (user interaction) and are separated from more extense data inputs like land use data, weather data or pesticide phys-chem properties. Typically, in the user inputs links to such databases to be used in a landscape modelling Experiment are defined wheras the actual data are taken from these databases.</p>"},{"location":"reference/glossary.html#plant-protection-measure-ppm","title":"Plant Protection Measure (PPM)","text":"<p>An action to prevent or control pests, eg, protecting apples against powdery mildew fungy or protecting olives against the white fly. In xCP, a Plant Protection Measure is represented by one or more Indications.  </p>"},{"location":"reference/glossary.html#plant-protection-product-ppp","title":"Plant Protection Product (PPP)","text":"<p>Plant protection products (PPPs) are chemical or biological products which are used to protect plants or plant products from harm caused by animals (eg, insects and rodents) or diseases such as fungal infestation. Products which are used to eliminate unwanted field weeds are also considered PPPs. The term \u201cpesticides\u201d is often used instead of plant protection product. PPPs contain one or more Active Substances and other co-formulants (substances which are supposed to have a positive effect on the production, storage or use of a product). The product itself is used in various forms, for example as spraying agents for seed treatment or in granular form.  </p>"},{"location":"reference/glossary.html#risk-mitigation-risk-mitigation-measures","title":"Risk Mitigation / Risk Mitigation Measures","text":"<p>Regarding the use of PPPs and from an operational point of view, here Risk Mitigation basically refers to reducing exposure caused by PPP application. For more information have a look into the outcome of the MAgPie Workshop.</p> <p>In xCP, currently the following Risk Mitigation measures are implemented: - no-spray buffer (typically defined in relation to water bodies) - in-crop buffer (a distance a farmer has to keep from the cropped boundery when spraying) - use of drift-reducing nozzles (sprayer technology to reduce drift)</p>"},{"location":"reference/glossary.html#scenario","title":"Scenario","text":"<p>In the context of risk assessment for pesticides, a Scenario refers to a set of conditions and assumptions used to model and predict the environmental fate and effects of pesticides. At lower tiers of the risk assessment procedure, Scenarios are designed to represent realistic worst-case situations to ensure that the risk assessments are protective of human health and the environment. When getting more realistic, at higher-tier risk assessment levels, Scenarios are intended to represent real-world conditions. Some key elements that define a scenario in this context:</p> <ol> <li>Abiotic Factors: These include non-living environmental factors such as soil type, climate/weather, landscape topology, and water bodies. For example, a scenario might consider how a pesticide behaves in sandy soil under high rainfall conditions. </li> <li>Biotic Factors: These involve living organisms that might be affected by the pesticide, including plants, animals, and microorganisms. The scenario might assess the impact on a specific species or a group of species. </li> <li>Agronomic Practices: This includes farming practices such as land use, crop rotation, land management, irrigation, and pesticide application methods. Different practices can influence how pesticides are distributed and degraded in the environment. </li> <li>Exposure Pathways: Scenarios consider how habitats and species might be exposed to pesticides, such as through forage, water, or contact. </li> <li>Temporal Aspects: The timing of pesticide application, its persistence in the environment and temporal relationship to the occurrence of species are crucial. Scenarios might model short-term (acute) and long-term (chronic) exposures.  </li> </ol> <p>By combining these factors, scenarios build a crucial basis to create a comprehensive picture of the potential risks associated with pesticide use.</p> <p>In xCP, the term PPP use scenario is sometimes used to address a certain Parameterisation of xCP (as part of a landscape model).  Likewise, modellers often talk about a landscape scenario meaning the certain geographic region for which eg, land use/cover, soil, weather and habitat conditions have been defined as basis for landscape-scale pesticide exposure and effect modelling. </p>"},{"location":"reference/glossary.html#simulation","title":"Simulation","text":"<p>The term Simulation is not precisely defined and is used somehow colloquial with different meanings. This is not a problem as the actual meaning typically gets clear in its use context: - a model simulation can just mean to parameterise and run a model in general - an xLandscape model simulation can mean to conduct an Experiment, ie, here the terms are used synonymously - a Simulation can also address an individual Monte Carlo run of an xLandscape model Experiment. </p>"},{"location":"reference/ppm-calendar.html","title":"PPM Calendar Technical Details","text":"<p>This section contains technical details about PPM Calendar elements. Examples of PPM Calendar files and explanations are located in the Templates.</p> <p>Note</p> <p>'|' symbols are used to separate options in a list.</p>"},{"location":"reference/ppm-calendar.html#general-structure","title":"General Structure","text":"<p>The general structure of a PPM calendar is</p> <pre><code>&lt;PPMCalendar&gt;\n    &lt;TemporalValidity/&gt;\n    &lt;TargetCrops/&gt;\n    &lt;Indications&gt;\n        &lt;Indication&gt;\n            &lt;ApplicationSequence&gt;\n                &lt;Application&gt;\n                    &lt;Tank&gt;\n                        &lt;Products/&gt;\n                        &lt;ApplicationRates&gt;\n                            &lt;ApplicationRate/&gt;\n                        &lt;/ApplicationRates&gt;\n                    &lt;/Tank&gt;\n                    &lt;ApplicationWindow/&gt;\n                    &lt;Technology/&gt;\n                    &lt;InCropBuffer/&gt;\n                    &lt;InFieldMargin/&gt;\n                    &lt;MinimumAppliedArea/&gt;\n                &lt;/Application&gt;\n            &lt;/ApplicationSequence&gt;\n        &lt;/Indication&gt;\n    &lt;/Indications&gt;\n&lt;/PPMCalendar&gt;\n</code></pre>"},{"location":"reference/ppm-calendar.html#application","title":"Application","text":"<p>Type: N/A</p> <p>Unit: N/A</p> <p>Scales: N/A</p> <p>Notes:</p> <ul> <li>Each <code>Application</code> in an <code>ApplicationSequence</code> will be applied to the same field. </li> </ul> <pre><code>&lt;Application&gt;\n    ...\n&lt;/Application&gt;\n</code></pre>"},{"location":"reference/ppm-calendar.html#temporal-validity","title":"Temporal Validity","text":"<p>Type: none, xCropProtection.MonthDaySpan, or xCropProtection.DateSpan</p> <p>Unit: N/A</p> <p>Scales: time/simulation|time/day|time/year</p> <p>Notes:</p> <ul> <li>Format: 'mm-dd to mm-dd' or 'yyyy-mm-dd to yyyy-mm-dd'.</li> <li>Set 'always' if the PPM Calendar should be applied over the whole simulation.</li> </ul> <p>Apply calendar over the whole simulation:</p> <pre><code>&lt;TemporalValidity scales=\"time/simulation\"&gt; always &lt;/TemporalValidity&gt;\n</code></pre> <p>Apply calendar over specific months each year:</p> <pre><code>&lt;TemporalValidity type=\"xCropProtection.MonthDaySpan\"&gt;\n    01-01 to 06-30\n&lt;/TemporalValidity&gt;\n</code></pre> <p>Apply calendar only on specific years:</p> <pre><code>&lt;TemporalValidity type=\"xCropProtection.DateSpan\"&gt;\n    2001-01-01 to 2001-12-31\n&lt;/TemporalValidity&gt;\n</code></pre>"},{"location":"reference/ppm-calendar.html#target-crops","title":"Target Crops","text":"<p>Type: int or list[int]</p> <p>Unit: N/A</p> <p>Scales: global|time/day|time/year</p> <p>Notes:</p> <ul> <li>This is an optional element. It should only be included in a PPMCalendar.xml if applications must be restricted to specific crop types.</li> <li>Separate target crops with a space. </li> </ul> <p>Apply PPM calendar to fields with crop type 9:</p> <pre><code>&lt;TargetCrops type=\"list[int]\" scales=\"global\"&gt;\n    9\n&lt;/TargetCrops&gt;\n</code></pre> <p>Apply PPM calendar to fields with crop type 9 or 16:</p> <pre><code>&lt;TargetCrops type=\"list[int]\" scales=\"global\"&gt;\n    9 16\n&lt;/TargetCrops&gt;\n</code></pre>"},{"location":"reference/ppm-calendar.html#target-fields","title":"Target Fields","text":"<p>Type: int or list[int]</p> <p>Unit: N/A</p> <p>Scales: global|time/day|time/year</p> <p>Notes:</p> <ul> <li>This is an optional element. It should only be included in a PPMCalendar.xml if applications must be restricted to specific fields.</li> <li>Separate target fields with a space.</li> <li>The name of the identifier which uniquely identifies each field can be changed in package.xinfo located in a scenario's geo folder. </li> </ul> <p>Only apply PPM Calendar to field 100:</p> <pre><code>&lt;TargetFields type=\"list[int]\" scales=\"global\"&gt;\n    100\n&lt;/TargetFields&gt;\n</code></pre> <p>Only apply PPM Calendar to fields 30 and 31:</p> <pre><code>&lt;TargetFields type=\"list[int]\" scales=\"global\"&gt;\n    30 31\n&lt;/TargetFields&gt;\n</code></pre>"},{"location":"reference/ppm-calendar.html#indications","title":"Indications","text":"<p>Type: N/A or xCropProtection.ChoiceDistribution</p> <p>Unit: N/A</p> <p>Scales: time/year, space/base_geometry</p> <p>Notes:</p> <ul> <li>If the type of this element is left blank, xCP will sample all <code>Indications</code>. If the type of this element is \"xCropProtection.ChoiceDistribution\", xCP will sample one <code>Indication</code> based on specified probability values. See Multiple Indications and Multiple Indications with Choice for examples. </li> </ul> <p>Sample all <code>Indications</code>:</p> <pre><code>&lt;Indications&gt;\n    &lt;Indication&gt;\n        ...\n    &lt;/Indication&gt;\n    &lt;Indication&gt;\n        ...\n    &lt;/Indication&gt;\n&lt;Indications&gt;\n</code></pre> <p>Sample 1 <code>Indication</code> based on probability values:</p> <pre><code>&lt;Indications type=\"xCropProtection.ChoiceDistribution\" scales=\"time/year, space/base_geometry\"&gt;\n    &lt;Indication probability=\"0.6\"&gt;\n        ...\n    &lt;/Indication&gt;\n    &lt;Indication probability=\"0.4\"&gt;\n        ...\n    &lt;/Indication&gt;\n&lt;Indications&gt;\n</code></pre>"},{"location":"reference/ppm-calendar.html#indication","title":"Indication","text":"<p>Type: xCropProtection.ChoiceDistribution</p> <p>Unit: N/A</p> <p>Scales: time/year, space/base_geometry</p> <p>Choose 1 <code>ApplicationSequence</code> based on probability values:</p> <pre><code>&lt;Indication type=\"xCropProtection.ChoiceDistribution\" scales=\"time/year, space/base_geometry\"&gt;\n    &lt;ApplicationSequence probability=\"0.5\"&gt;\n        ...\n    &lt;/ApplicationSequence&gt;\n    &lt;ApplicationSequence probability=\"0.5\"&gt;\n        ...\n    &lt;/ApplicationSequence&gt;\n&lt;/Indication&gt;\n</code></pre>"},{"location":"reference/ppm-calendar.html#application-sequence","title":"Application Sequence","text":"<p>Type: N/A</p> <p>Unit: N/A</p> <p>Scales: N/A</p> <p>Notes:</p> <ul> <li><code>ApplicationSequence</code> probabilities must sum to exactly 1.0 for each <code>Indication</code>. </li> </ul> <p></p> <p>Example of 1 <code>ApplicationSequence</code>:</p> <pre><code>&lt;ApplicationSequence probability=\"1\"&gt;\n    ...\n&lt;/ApplicationSequence&gt;\n</code></pre> <p>Example of 2 <code>ApplicationSequence</code> elements:</p> <pre><code>&lt;ApplicationSequence probability=\"0.5\"&gt;\n    ...\n&lt;/ApplicationSequence&gt;\n&lt;ApplicationSequence probability=\"0.5\"&gt;\n    ...\n&lt;/ApplicationSequence&gt;\n</code></pre>"},{"location":"reference/ppm-calendar.html#tank","title":"Tank","text":"<p>Type: N/A</p> <p>Unit: N/A</p> <p>Scales: N/A</p> <p>Notes:</p> <ul> <li>If a tank mixture is being implemented (more than 1 product in the <code>Tank</code>), the number of products in the <code>Tank</code> must be the same as the number of <code>ApplicationRates</code> defined. </li> </ul> <p>A <code>Tank</code> containing 1 product:</p> <pre><code>&lt;Tank&gt;\n    &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n        Product 1\n    &lt;/Products&gt;\n    &lt;ApplicationRates scales=\"other/products\"&gt;\n        &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;\n            100\n        &lt;/ApplicationRate&gt;\n    &lt;/ApplicationRates&gt;\n&lt;/Tank&gt;\n</code></pre> <p>A <code>Tank</code> containing a tank mix with 2 products:</p> <pre><code>&lt;Tank&gt;\n    &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n        Product 1|Product 2\n    &lt;/Products&gt;\n    &lt;ApplicationRates scales=\"other/products\"&gt;\n        &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;\n            100\n        &lt;/ApplicationRate&gt;\n        &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;\n            70\n        &lt;/ApplicationRate&gt;\n    &lt;/ApplicationRates&gt;\n&lt;/Tank&gt;\n</code></pre>"},{"location":"reference/ppm-calendar.html#products","title":"Products","text":"<p>Type: list[str] (list of strings)</p> <p>Unit: N/A</p> <p>Scales: other/products</p> <p>Notes:</p> <ul> <li>Multiple products in the <code>Products</code> element must be separated with a | symbol. Products may have spaces in their names.</li> <li>The name defined in this element is what will be assigned to fields as they receive applications. </li> </ul> <pre><code>&lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n    Example Product\n&lt;/Products&gt;\n</code></pre>"},{"location":"reference/ppm-calendar.html#application-rates","title":"Application Rates","text":"<p>Type: float, xCropProtection.NormalDistribution, or xCropProtection.UniformDistribution</p> <p>Unit: g/ha</p> <p>Scales: global|time/day|time/year|time/day, space/base_geometry|time/year, space/base_geometry</p> <p>Constant <code>ApplicationRate</code>:</p> <pre><code>&lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;300&lt;/ApplicationRate&gt;\n</code></pre> <p><code>ApplicationRate</code> with uniform distribution:</p> <pre><code>&lt;ApplicationRate type=\"xCropProtection.UniformDistribution\" unit=\"g/ha\" scales=\"time/year, space/base_geometry\"&gt;\n    &lt;Lower type=\"float\" scales=\"global\"&gt;100&lt;/Lower&gt;\n    &lt;Upper type=\"float\" scales=\"global\"&gt;150&lt;/Upper&gt; \n&lt;/ApplicationRate&gt;\n</code></pre> <p><code>ApplicationRate</code> with normal distribution:</p> <pre><code>&lt;ApplicationRate type=\"xCropProtection.NormalDistribution\" unit=\"g/ha\" scales=\"time/year, space/base_geometry\"&gt;\n    &lt;Mean type=\"float\" scales=\"global\"&gt;50.0&lt;/Mean&gt;\n    &lt;SD type=\"float\" scales=\"global\"&gt;4.0&lt;/SD&gt; \n&lt;/ApplicationRate&gt;\n</code></pre>"},{"location":"reference/ppm-calendar.html#application-window","title":"Application Window","text":"<p>Type: xCropProtection.MonthDaySpan</p> <p>Unit: N/A</p> <p>Scales: global</p> <p>Notes:</p> <ul> <li>Format is Month-Day.</li> <li>Input must be in format \"Month-Day to Month-Day\". </li> </ul> <pre><code>&lt;ApplicationWindow type=\"xCropProtection.MonthDaySpan\" scales=\"global\"&gt;\n    05-05 to 05-16\n&lt;/ApplicationWindow&gt;\n</code></pre>"},{"location":"reference/ppm-calendar.html#technology","title":"Technology","text":"<p>Type: string</p> <p>Unit: N/A</p> <p>Scales: global</p> <p>Notes:</p> <ul> <li>This value must match a <code>Technology</code> element in Technologies.xml. </li> </ul> <pre><code>&lt;Technology scales=\"global\"&gt;Low-drift nozzle&lt;/Technology&gt;\n</code></pre>"},{"location":"reference/ppm-calendar.html#in-crop-buffer","title":"In Crop Buffer","text":"<p>Type: float, xCropProtection.NormalDistribution, or xCropProtection.UniformDistribution</p> <p>Unit: m (meter)</p> <p>Scales: </p> <ul> <li>Constant: global</li> <li>Normal/Uniform distribution: time/year, space/base_geometry|time/day, space/base_geometry</li> </ul> <p>Notes:</p> <ul> <li>A value less than 0 will not increase field size.</li> <li>The values of <code>InCropBuffer</code> and <code>InFieldMargin</code> are cumulative. </li> </ul> <p>Constant <code>InCropBuffer</code>:</p> <pre><code>&lt;InCropBuffer type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InCropBuffer&gt;\n</code></pre> <p><code>InCropBuffer</code> with a uniform distribution:</p> <pre><code>&lt;InCropBuffer type=\"xCropProtection.UniformDistribution\" unit=\"m\" scales=\"time/year, space/base_geometry\"&gt;\n    &lt;Lower type=\"float\" scales=\"global\"&gt;5&lt;/Lower&gt;\n    &lt;Upper type=\"float\" scales=\"global\"&gt;10&lt;/Upper&gt; \n&lt;/InCropBuffer&gt;\n</code></pre> <p><code>InCropBuffer</code> with a normal distribution:</p> <pre><code>&lt;InCropBuffer type=\"xCropProtection.NormalDistribution\" unit=\"m\" scales=\"time/year, space/base_geometry\"&gt;\n    &lt;Mean type=\"float\" scales=\"global\"&gt;5&lt;/Mean&gt;\n    &lt;SD type=\"float\" scales=\"global\"&gt;1&lt;/SD&gt; \n&lt;/InCropBuffer&gt;\n</code></pre>"},{"location":"reference/ppm-calendar.html#in-field-margin","title":"In Field Margin","text":"<p>Type: float, xCropProtection.NormalDistribution, or xCropProtection.UniformDistribution</p> <p>Unit: m (meter)</p> <p>Scales:</p> <ul> <li>Constant: global</li> <li>Normal/Uniform distribution: time/year, space/base_geometry|time/day, space/base_geometry</li> </ul> <p>Notes:</p> <ul> <li>A value less than 0 will not increase field size.</li> <li>The values of <code>InCropBuffer</code> and <code>InFieldMargin</code> are cumulative. </li> </ul> <p>Constant <code>InFieldMargin</code>:</p> <pre><code>&lt;InFieldMargin type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InFieldMargin&gt;\n</code></pre> <p><code>InFieldMargin</code> with a uniform distribution:</p> <pre><code>&lt;InFieldMargin type=\"xCropProtection.UniformDistribution\" unit=\"m\" scales=\"time/year, space/base_geometry\"&gt;\n    &lt;Lower type=\"float\" scales=\"global\"&gt;5&lt;/Lower&gt;\n    &lt;Upper type=\"float\" scales=\"global\"&gt;10&lt;/Upper&gt; \n&lt;/InFieldMargin&gt;\n</code></pre> <p><code>InFieldMargin</code> with a normal distribution:</p> <pre><code>&lt;InFieldMargin type=\"xCropProtection.NormalDistribution\" unit=\"m\" scales=\"time/year, space/base_geometry\"&gt;\n    &lt;Mean type=\"float\" scales=\"global\"&gt;5&lt;/Mean&gt;\n    &lt;SD type=\"float\" scales=\"global\"&gt;1&lt;/SD&gt; \n&lt;/InFieldMargin&gt;\n</code></pre>"},{"location":"reference/ppm-calendar.html#minimum-applied-area","title":"Minimum Applied Area","text":"<p>Type: float, xCropProtection.NormalDistribution, or xCropProtection.UniformDistribution</p> <p>Unit: m\u00b2 (meter\u00b2)</p> <p>Scales:</p> <ul> <li>Constant: global</li> <li>Normal/Uniform distribution: time/year, space/base_geometry|time/day, space/base_geometry</li> </ul> <p>Notes:</p> <ul> <li>If a field's area is smaller than this value after applying the <code>InCropBuffer</code> and <code>InFieldMargin</code> values, no application will occur. </li> </ul> <p>Constant <code>MinimumAppliedArea</code>:</p> <pre><code>&lt;MinimumAppliedArea type=\"float\" unit=\"m\u00b2\" scales=\"global\"&gt;0&lt;/MinimumAppliedArea&gt;\n</code></pre> <p><code>MinimumAppliedArea</code> with a uniform distribution:</p> <pre><code>&lt;MinimumAppliedArea type=\"xCropProtection.UniformDistribution\" unit=\"m\u00b2\" scales=\"time/year, space/base_geometry\"&gt;\n    &lt;Lower type=\"float\" scales=\"global\"&gt;100&lt;/Lower&gt;\n    &lt;Upper type=\"float\" scales=\"global\"&gt;150&lt;/Upper&gt; \n&lt;/MinimumAppliedArea&gt;\n</code></pre> <p><code>MinimumAppliedArea</code> with a normal distribution:</p> <pre><code>&lt;MinimumAppliedArea type=\"xCropProtection.NormalDistribution\" unit=\"m\u00b2\" scales=\"time/year, space/base_geometry\"&gt;\n    &lt;Mean type=\"float\" scales=\"global\"&gt;100&lt;/Mean&gt;\n    &lt;SD type=\"float\" scales=\"global\"&gt;5&lt;/SD&gt; \n&lt;/MinimumAppliedArea&gt;\n</code></pre>"},{"location":"scenarios/multiple-application-sequences.html","title":"Multiple Application Sequences","text":""},{"location":"scenarios/multiple-application-sequences.html#background","title":"Background","text":"<p>In agricultural landscapes, a number of pesticides are being used for pest control. This even applies to individual crop types. Typically, a range of alternative pest control measures are available to the farmer as optional tool sets to control the same pest. Eg, to control fungal deseases in vines, &gt;100 products are available from different producers in Germany plus organic/biological control means. In order to reflect such alternative pest control measures, eg, in a landscape-level risk assessment and risk management analysis, xCP allows to define alternative Application Sequences within an Indication. Such alternative can eg, reflect market share of products. </p>"},{"location":"scenarios/multiple-application-sequences.html#parameterisation","title":"Parameterisation","text":"<p>To be able to model real-world alternative pest control means, <code>ApplicationSequence</code> XML elements have a probability value associated with them.</p> <p>Note</p> <p>For each <code>Indication</code>, the sum of all <code>ApplicationSequence</code> probability values must sum to exactly 1.0. </p> <p>An <code>ApplicationSequence</code> has a probability of occurring for each field according to the user-defined probability value. The <code>ApplicationSequence</code> probability is sampled each year of the simulation, meaning that the <code>ApplicationSequence</code> chosen for a given year is not necessarily the <code>ApplicationSequence</code> that will be chosen next year for that field.</p> <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;PPMCalendar xmlns=\"urn:xCropProtectionLandscapeScenarioParametrization\"&gt;\n    &lt;TemporalValidity scales=\"time/simulation\"&gt; always &lt;/TemporalValidity&gt;\n    &lt;TargetCrops type=\"list[int]\" scales=\"global\"&gt; 10 &lt;/TargetCrops&gt;\n    &lt;Indications&gt;\n        &lt;Indication type=\"xCropProtection.ChoiceDistribution\" scales=\"time/year, space/base_geometry\"&gt;\n            &lt;ApplicationSequence probability=\"0.7\"&gt;\n                &lt;Application&gt;\n                    &lt;Tank&gt;\n                        &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n                            Product 1\n                        &lt;/Products&gt;\n                        &lt;ApplicationRates scales=\"other/products\"&gt;\n                            &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;\n                                100\n                            &lt;/ApplicationRate&gt;\n                        &lt;/ApplicationRates&gt;\n                    &lt;/Tank&gt;\n                    &lt;ApplicationWindow type=\"xCropProtection.MonthDaySpan\" scales=\"global\"&gt;\n                        05-01 to 05-10\n                    &lt;/ApplicationWindow&gt;\n                    &lt;Technology scales=\"global\"&gt;Technology&lt;/Technology&gt;\n                    &lt;InCropBuffer type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InCropBuffer&gt;\n                    &lt;InFieldMargin type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InFieldMargin&gt;\n                    &lt;MinimumAppliedArea type=\"float\" unit=\"m\u00b2\" scales=\"global\"&gt;0&lt;/MinimumAppliedArea&gt;\n                &lt;/Application&gt;\n            &lt;/ApplicationSequence&gt;\n            &lt;ApplicationSequence probability=\"0.3\"&gt;\n                &lt;Application&gt;\n                    &lt;Tank&gt;\n                        &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n                            Product 2\n                        &lt;/Products&gt;\n                        &lt;ApplicationRates scales=\"other/products\"&gt;\n                            &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;\n                                200\n                            &lt;/ApplicationRate&gt;\n                        &lt;/ApplicationRates&gt;\n                    &lt;/Tank&gt;\n                    &lt;ApplicationWindow type=\"xCropProtection.MonthDaySpan\" scales=\"global\"&gt;\n                        06-05 to 06-25\n                    &lt;/ApplicationWindow&gt;\n                    &lt;Technology scales=\"global\"&gt;Technology&lt;/Technology&gt;\n                    &lt;InCropBuffer type=\"float\" unit=\"m\" scales=\"global\"&gt;5&lt;/InCropBuffer&gt;\n                    &lt;InFieldMargin type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InFieldMargin&gt;\n                    &lt;MinimumAppliedArea type=\"float\" unit=\"m\u00b2\" scales=\"global\"&gt;0&lt;/MinimumAppliedArea&gt;\n                &lt;/Application&gt;\n            &lt;/ApplicationSequence&gt;\n        &lt;/Indication&gt;\n    &lt;/Indications&gt;\n&lt;/PPMCalendar&gt;\n</code></pre>"},{"location":"scenarios/multiple-application-sequences.html#explanation","title":"Explanation","text":"<p>In this example, the first <code>ApplicationSequence</code> will be selected for 70% of applications each year, while the second <code>ApplicationSequence</code> will be selected for the remaining 30% of applications each year.</p> <pre><code>&lt;ApplicationSequence probability=\"0.7\"&gt;\n...\n&lt;ApplicationSequence probability=\"0.3\"&gt;\n</code></pre> <p>For explanations of each element, see Simple Scenario.</p>"},{"location":"scenarios/multiple-application-sequences.html#illustration","title":"Illustration","text":"<p>See also 'Indications' for the full picture of xCP entities and their relationship.</p>"},{"location":"scenarios/multiple-applications.html","title":"Multiple Applications","text":""},{"location":"scenarios/multiple-applications.html#background","title":"Background","text":"<p>For some pest control measures in agricultural practice a sequence of PPP application is conducted. A typical example is to control fungal pests where a number of fungicide applications are recommended in a sequence during cultivation season. This can be represented (parameterised) in xCP. For more information see eg, Indication in the Glossary.  In xCP, each individual application in an Application Sequence can be independently defined. This allows eg, to use different PPPs within the individual application of an Application Sequence.  </p>"},{"location":"scenarios/multiple-applications.html#parameterisation","title":"Parameterisation","text":"<p>An <code>ApplicationSequence</code> can contain multiple <code>Application</code> elements, each with independent attributes.</p> <p>Adding multiple <code>Application</code> elements to an <code>ApplicationSequence</code> should be used when applications are dependent on each other, though the attributes of each <code>Application</code> need not be the same.</p> <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;PPMCalendar xmlns=\"urn:xCropProtectionLandscapeScenarioParametrization\"&gt;\n    &lt;TemporalValidity scales=\"time/simulation\"&gt; always &lt;/TemporalValidity&gt;\n    &lt;TargetCrops type=\"list[int]\" scales=\"global\"&gt; 10 &lt;/TargetCrops&gt;\n    &lt;Indications&gt;\n        &lt;Indication type=\"xCropProtection.ChoiceDistribution\" scales=\"time/year, space/base_geometry\"&gt;\n            &lt;ApplicationSequence probability=\"1\"&gt;\n                &lt;Application&gt;\n                    &lt;Tank&gt;\n                        &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n                            Product 1\n                        &lt;/Products&gt;\n                        &lt;ApplicationRates scales=\"other/products\"&gt;\n                            &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;\n                                100\n                            &lt;/ApplicationRate&gt;\n                        &lt;/ApplicationRates&gt;\n                    &lt;/Tank&gt;\n                    &lt;ApplicationWindow type=\"xCropProtection.MonthDaySpan\" scales=\"global\"&gt;\n                        05-01 to 05-10\n                    &lt;/ApplicationWindow&gt;\n                    &lt;Technology scales=\"global\"&gt;\n                        Technology\n                    &lt;/Technology&gt;\n                    &lt;InCropBuffer type=\"float\" unit=\"m\" scales=\"global\"&gt;\n                        0\n                    &lt;/InCropBuffer&gt;\n                    &lt;InFieldMargin type=\"float\" unit=\"m\" scales=\"global\"&gt;\n                        0\n                    &lt;/InFieldMargin&gt;\n                    &lt;MinimumAppliedArea type=\"float\" unit=\"m\u00b2\" scales=\"global\"&gt;\n                        0\n                    &lt;/MinimumAppliedArea&gt;\n                &lt;/Application&gt;\n                &lt;Application&gt;\n                    &lt;Tank&gt;\n                        &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n                            Product 2\n                        &lt;/Products&gt;\n                        &lt;ApplicationRates scales=\"other/products\"&gt;\n                            &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;\n                                200\n                            &lt;/ApplicationRate&gt;\n                        &lt;/ApplicationRates&gt;\n                    &lt;/Tank&gt;\n                    &lt;ApplicationWindow type=\"xCropProtection.MonthDaySpan\" scales=\"global\"&gt;\n                        06-05 to 06-25\n                    &lt;/ApplicationWindow&gt;\n                    &lt;Technology scales=\"global\"&gt;\n                        Technology\n                    &lt;/Technology&gt;\n                    &lt;InCropBuffer type=\"float\" unit=\"m\" scales=\"global\"&gt;\n                        5\n                    &lt;/InCropBuffer&gt;\n                    &lt;InFieldMargin type=\"float\" unit=\"m\" scales=\"global\"&gt;\n                        0\n                    &lt;/InFieldMargin&gt;\n                    &lt;MinimumAppliedArea type=\"float\" unit=\"m\u00b2\" scales=\"global\"&gt;\n                        0\n                    &lt;/MinimumAppliedArea&gt;\n                &lt;/Application&gt;\n            &lt;/ApplicationSequence&gt;\n        &lt;/Indication&gt;\n    &lt;/Indications&gt;\n&lt;/PPMCalendar&gt;\n</code></pre>"},{"location":"scenarios/multiple-applications.html#explanation","title":"Explanation","text":"<p>In this example, two applications will occur each year for fields with LULC type 10:</p> <pre><code>&lt;TargetCrops type=\"list[int]\" scales=\"global\"&gt; 10 &lt;/TargetCrops&gt;\n</code></pre> <p>One application of Product 1 will occur between May 1st and May 10th with an application rate of 100 g/ha:</p> <pre><code>&lt;Tank&gt;\n    &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n        Product 1\n    &lt;/Products&gt;\n    &lt;ApplicationRates scales=\"other/products\"&gt;\n        &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;\n            100\n        &lt;/ApplicationRate&gt;\n    &lt;/ApplicationRates&gt;\n&lt;/Tank&gt;\n&lt;ApplicationWindow type=\"xCropProtection.MonthDaySpan\" scales=\"global\"&gt;\n    05-01 to 05-10\n&lt;/ApplicationWindow&gt;\n</code></pre> <p>The same field types will also receive an application of Product 2 between June 5th and June 25th with an application rate of 200 g/ha and an in-crop buffer of 5 meters:</p> <pre><code>&lt;Tank&gt;\n    &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n        Product 2\n    &lt;/Products&gt;\n    &lt;ApplicationRates scales=\"other/products\"&gt;\n        &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;\n            200\n        &lt;/ApplicationRate&gt;\n    &lt;/ApplicationRates&gt;\n&lt;/Tank&gt;\n&lt;ApplicationWindow type=\"xCropProtection.MonthDaySpan\" scales=\"global\"&gt;\n    06-05 to 06-25\n&lt;/ApplicationWindow&gt;\n...\n&lt;InCropBuffer type=\"float\" unit=\"m\" scales=\"global\"&gt;\n    5\n&lt;/InCropBuffer&gt;\n</code></pre> <p>For explanations of each element, see Simple Scenario.</p>"},{"location":"scenarios/multiple-applications.html#illustration","title":"Illustration","text":"<p>See also 'Indications' for the full picture of xCP entities and their relationship.</p>"},{"location":"scenarios/multiple-indications-with-choice.html","title":"Choice Between Multiple Indications","text":""},{"location":"scenarios/multiple-indications-with-choice.html#background","title":"Background","text":"<p>Pest control can be a rather complex undertaking. Modern integrated pest control tries to optimise control efficacy, at moderate economic cost and by minimising adverse environmental side effects. In such context, xCP offers the capability to evaluate alternative Indications in a Crop Protection Calender, ie, alternative measures against a certain pest in a crop, eg, alternative control of powdery mildew in vines, brown rot in apple, whitefly in olives, or blackgras in wheat. The choice of Indications might  represent conventional versus organic or biological pest control schemes. See also Indications in the Glossary.  </p>"},{"location":"scenarios/multiple-indications-with-choice.html#parameterisation","title":"Parameterisation","text":"<p>An example of one <code>ApplicationSequence</code> selected from each <code>Indication</code> was shown in Multiple Indications. However, the <code>Indications</code> element can also be used to select only 1 <code>Indication</code> based on probability values. The following example demonstrates a situation where some fields (of a certain crop type) will receive product applications with further choices and some fields will receive no applications.</p> <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;PPMCalendar xmlns=\"urn:xCropProtectionLandscapeScenarioParametrization\"&gt;\n    &lt;TemporalValidity scales=\"time/simulation\"&gt; always &lt;/TemporalValidity&gt;\n    &lt;TargetCrops type=\"list[int]\" scales=\"global\"&gt; 10 &lt;/TargetCrops&gt;\n    &lt;Indications type=\"xCropProtection.ChoiceDistribution\" scales=\"time/year, space/base_geometry\"&gt;\n        &lt;Indication probability=\"0.7\"&gt;\n            &lt;Indication type=\"xCropProtection.ChoiceDistribution\" scales=\"time/year, space/base_geometry\"&gt;\n                &lt;ApplicationSequence probability=\"0.6\"&gt;\n                    &lt;Application&gt;\n                        &lt;Tank&gt;\n                            &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n                                Product 1\n                            &lt;/Products&gt;\n                            &lt;ApplicationRates scales=\"other/products\"&gt;\n                                &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;\n                                    100\n                                &lt;/ApplicationRate&gt;\n                            &lt;/ApplicationRates&gt;\n                        &lt;/Tank&gt;\n                        &lt;ApplicationWindow type=\"xCropProtection.MonthDaySpan\" scales=\"global\"&gt;\n                            06-05 to 06-25\n                        &lt;/ApplicationWindow&gt;\n                        &lt;Technology scales=\"global\"&gt;Technology&lt;/Technology&gt;\n                        &lt;InCropBuffer type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InCropBuffer&gt;\n                        &lt;InFieldMargin type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InFieldMargin&gt;\n                        &lt;MinimumAppliedArea type=\"float\" unit=\"m\u00b2\" scales=\"global\"&gt;0&lt;/MinimumAppliedArea&gt;\n                    &lt;/Application&gt;\n                &lt;/ApplicationSequence&gt;\n                &lt;ApplicationSequence probability=\"0.4\"&gt;\n                    &lt;Application&gt;\n                        &lt;Tank&gt;\n                            &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n                                Product 2\n                            &lt;/Products&gt;\n                            &lt;ApplicationRates scales=\"other/products\"&gt;\n                                &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;\n                                    200\n                                &lt;/ApplicationRate&gt;\n                            &lt;/ApplicationRates&gt;\n                        &lt;/Tank&gt;\n                        &lt;ApplicationWindow type=\"xCropProtection.MonthDaySpan\" scales=\"global\"&gt;\n                            06-05 to 06-25\n                        &lt;/ApplicationWindow&gt;\n                        &lt;Technology scales=\"global\"&gt;Technology&lt;/Technology&gt;\n                        &lt;InCropBuffer type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InCropBuffer&gt;\n                        &lt;InFieldMargin type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InFieldMargin&gt;\n                        &lt;MinimumAppliedArea type=\"float\" unit=\"m\u00b2\" scales=\"global\"&gt;0&lt;/MinimumAppliedArea&gt;\n                    &lt;/Application&gt;\n                &lt;/ApplicationSequence&gt;\n            &lt;/Indication&gt;\n            &lt;Indication type=\"xCropProtection.ChoiceDistribution\" scales=\"time/year, space/base_geometry\"&gt;\n                &lt;ApplicationSequence probability=\"1.0\"&gt;\n                    &lt;Application&gt;\n                        &lt;Tank&gt;\n                            &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n                                Product 3\n                            &lt;/Products&gt;\n                            &lt;ApplicationRates scales=\"other/products\"&gt;\n                                &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;\n                                    100\n                                &lt;/ApplicationRate&gt;\n                            &lt;/ApplicationRates&gt;\n                        &lt;/Tank&gt;\n                        &lt;ApplicationWindow type=\"xCropProtection.MonthDaySpan\" scales=\"global\"&gt;\n                            06-05 to 06-25\n                        &lt;/ApplicationWindow&gt;\n                        &lt;Technology scales=\"global\"&gt;Technology&lt;/Technology&gt;\n                        &lt;InCropBuffer type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InCropBuffer&gt;\n                        &lt;InFieldMargin type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InFieldMargin&gt;\n                        &lt;MinimumAppliedArea type=\"float\" unit=\"m\u00b2\" scales=\"global\"&gt;0&lt;/MinimumAppliedArea&gt;\n                    &lt;/Application&gt;\n                &lt;/ApplicationSequence&gt;\n            &lt;/Indication&gt;\n        &lt;/Indication&gt;\n        &lt;Indication probability=\"0.3\" &gt;\n            &lt;Indication type=\"xCropProtection.ChoiceDistribution\" scales=\"time/year, space/base_geometry\"&gt;\n                &lt;ApplicationSequence probability=\"1.0\"&gt;\n                    &lt;Application&gt;\n                        &lt;Tank&gt;\n                            &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n                                No treatment\n                            &lt;/Products&gt;\n                            &lt;ApplicationRates scales=\"other/products\"&gt;\n                                &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;\n                                    0\n                                &lt;/ApplicationRate&gt;\n                            &lt;/ApplicationRates&gt;\n                        &lt;/Tank&gt;\n                        &lt;ApplicationWindow type=\"xCropProtection.MonthDaySpan\" scales=\"global\"&gt;\n                            04-01 to 04-15\n                        &lt;/ApplicationWindow&gt;\n                        &lt;Technology scales=\"global\"&gt;Technology&lt;/Technology&gt;\n                        &lt;InCropBuffer type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InCropBuffer&gt;\n                        &lt;InFieldMargin type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InFieldMargin&gt;\n                        &lt;MinimumAppliedArea type=\"float\" unit=\"m\u00b2\" scales=\"global\"&gt;0&lt;/MinimumAppliedArea&gt;\n                    &lt;/Application&gt;\n                &lt;/ApplicationSequence&gt;\n            &lt;/Indication&gt;\n        &lt;/Indication&gt;\n    &lt;/Indications&gt;\n&lt;/PPMCalendar&gt;\n</code></pre>"},{"location":"scenarios/multiple-indications-with-choice.html#explanation","title":"Explanation","text":"<p>In this example, all fields have a 30% chance of receiving \"no treatment\" and a 70% chance of receiving a series of applications sampled from the first <code>Indication</code>. If a field does receive an application, it will receive an application of either Product 1 OR Product 2, followed by an application of Product 3.</p> <pre><code>&lt;Indications type=\"xCropProtection.ChoiceDistribution\" scales=\"time/year, space/base_geometry\"&gt;\n&lt;Indication probability=\"0.7\"&gt;\n    &lt;Indication type=\"xCropProtection.ChoiceDistribution\" scales=\"time/year, space/base_geometry\"&gt;\n        &lt;ApplicationSequence probability=\"0.6\"&gt;\n            &lt;Application&gt;\n                &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n                    Product 1\n                &lt;/Products&gt;\n                ...\n            &lt;/Application&gt;\n        &lt;/ApplicationSequence&gt;\n        &lt;ApplicationSequence probability=\"0.4\"&gt;\n            &lt;Application&gt;\n                &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n                    Product 2\n                &lt;/Products&gt;\n                ...\n            &lt;/Application&gt;\n        &lt;/ApplicationSequence&gt;\n    &lt;/Indication&gt;\n    &lt;Indication type=\"xCropProtection.ChoiceDistribution\" scales=\"time/year, space/base_geometry\"&gt;\n        &lt;ApplicationSequence probability=\"1.0\"&gt;\n            &lt;Application&gt;\n                &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n                    Product 3\n                &lt;/Products&gt;\n                ...\n        &lt;/ApplicationSequence&gt;\n    &lt;/Indication&gt;\n&lt;/Indication&gt;\n&lt;Indication probability=\"0.3\" &gt;\n    &lt;Indication type=\"xCropProtection.ChoiceDistribution\" scales=\"time/year, space/base_geometry\"&gt;\n        &lt;ApplicationSequence probability=\"1.0\"&gt;\n            &lt;Application&gt;\n                &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n                    No treatment\n                &lt;/Products&gt;\n                ...\n            &lt;/Application&gt;\n        &lt;/ApplicationSequence&gt;\n    &lt;/Indication&gt;\n&lt;/Indication&gt;\n&lt;/Indications&gt;\n</code></pre> <p>In this situation, an <code>ApplicationSequence</code> may still contain more than one <code>Application</code>. If that <code>ApplicationSequence</code> is selected, all <code>Application</code> elements contained in the selected <code>ApplicationSequence</code> will still be applied to the field. For explanations of each element, see Simple Scenario.</p>"},{"location":"scenarios/multiple-indications-with-choice.html#illustration","title":"Illustration","text":"<p>See also 'Indications' for the full picture of xCP entities and their relationship.</p>"},{"location":"scenarios/multiple-indications.html","title":"Multiple Indications","text":""},{"location":"scenarios/multiple-indications.html#background","title":"Background","text":"<p>In agricultural practice, an Indication basically represents control measures against a certain pest in a crop, eg, to control powdery mildew in vines, brown rot in apple, whitefly in olives, or blackgras in wheat. A composition of Indications defines a Crop Protection Calender, eg, all the Indications to control fungy, insects pests and weeds in vines across a growing season. See also Indications in the Glossary.</p>"},{"location":"scenarios/multiple-indications.html#parameterisation","title":"Parameterisation","text":"<p>A PPMCalendar can have 1 or more <code>Indication</code> elements in its list of <code>Indications</code>. When xCropProtection runs, all <code>Indication</code> elements are executed within which one <code>ApplicationSequence</code> from each <code>Indication</code> will be chosen. Indications hold one or more <code>ApplicationSequence</code> elements which each have a probability associated with them.  Multiple <code>Indication</code> elements should be used when multiple <code>Products</code> need to be applied to a field type.  </p> <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;PPMCalendar xmlns=\"urn:xCropProtectionLandscapeScenarioParametrization\"&gt;\n    &lt;TemporalValidity scales=\"time/simulation\"&gt; always &lt;/TemporalValidity&gt;\n    &lt;TargetCrops type=\"list[int]\" scales=\"global\"&gt; 10 &lt;/TargetCrops&gt;\n    &lt;Indications&gt;\n        &lt;Indication type=\"xCropProtection.ChoiceDistribution\" scales=\"time/year, space/base_geometry\"&gt;\n            &lt;ApplicationSequence probability=\"0.7\"&gt;\n                &lt;Application&gt;\n                    &lt;Tank&gt;\n                        &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n                            Product 1\n                        &lt;/Products&gt;\n                        &lt;ApplicationRates scales=\"other/products\"&gt;\n                            &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;\n                                100\n                            &lt;/ApplicationRate&gt;\n                        &lt;/ApplicationRates&gt;\n                    &lt;/Tank&gt;\n                    &lt;ApplicationWindow type=\"xCropProtection.MonthDaySpan\" scales=\"global\"&gt;\n                        06-05 to 06-25\n                    &lt;/ApplicationWindow&gt;\n                    &lt;Technology scales=\"global\"&gt;Technology&lt;/Technology&gt;\n                    &lt;InCropBuffer type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InCropBuffer&gt;\n                    &lt;InFieldMargin type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InFieldMargin&gt;\n                    &lt;MinimumAppliedArea type=\"float\" unit=\"m\u00b2\" scales=\"global\"&gt;0&lt;/MinimumAppliedArea&gt;\n                &lt;/Application&gt;\n            &lt;/ApplicationSequence&gt;\n            &lt;ApplicationSequence probability=\"0.3\"&gt;\n                &lt;Application&gt;\n                    &lt;Tank&gt;\n                        &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n                            Product 2\n                        &lt;/Products&gt;\n                        &lt;ApplicationRates scales=\"other/products\"&gt;\n                            &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;\n                                200\n                            &lt;/ApplicationRate&gt;\n                        &lt;/ApplicationRates&gt;\n                    &lt;/Tank&gt;\n                    &lt;ApplicationWindow type=\"xCropProtection.MonthDaySpan\" scales=\"global\"&gt;\n                        06-05 to 06-25\n                    &lt;/ApplicationWindow&gt;\n                    &lt;Technology scales=\"global\"&gt;Technology&lt;/Technology&gt;\n                    &lt;InCropBuffer type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InCropBuffer&gt;\n                    &lt;InFieldMargin type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InFieldMargin&gt;\n                    &lt;MinimumAppliedArea type=\"float\" unit=\"m\u00b2\" scales=\"global\"&gt;0&lt;/MinimumAppliedArea&gt;\n                &lt;/Application&gt;\n            &lt;/ApplicationSequence&gt;\n        &lt;/Indication&gt;\n        &lt;Indication type=\"xCropProtection.ChoiceDistribution\" scales=\"time/year, space/base_geometry\"&gt;\n            &lt;ApplicationSequence probability=\"0.2\"&gt;\n                &lt;Application&gt;\n                    &lt;Tank&gt;\n                        &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n                            Product 3\n                        &lt;/Products&gt;\n                        &lt;ApplicationRates scales=\"other/products\"&gt;\n                            &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;\n                                100\n                            &lt;/ApplicationRate&gt;\n                        &lt;/ApplicationRates&gt;\n                    &lt;/Tank&gt;\n                    &lt;ApplicationWindow type=\"xCropProtection.MonthDaySpan\" scales=\"global\"&gt;\n                        04-01 to 04-15\n                    &lt;/ApplicationWindow&gt;\n                    &lt;Technology scales=\"global\"&gt;Technology&lt;/Technology&gt;\n                    &lt;InCropBuffer type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InCropBuffer&gt;\n                    &lt;InFieldMargin type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InFieldMargin&gt;\n                    &lt;MinimumAppliedArea type=\"float\" unit=\"m\u00b2\" scales=\"global\"&gt;0&lt;/MinimumAppliedArea&gt;\n                &lt;/Application&gt;\n            &lt;/ApplicationSequence&gt;\n            &lt;ApplicationSequence probability=\"0.8\"&gt;\n                &lt;Application&gt;\n                    &lt;Tank&gt;\n                        &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n                            Product 4\n                        &lt;/Products&gt;\n                        &lt;ApplicationRates scales=\"other/products\"&gt;\n                            &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;\n                                200\n                            &lt;/ApplicationRate&gt;\n                        &lt;/ApplicationRates&gt;\n                    &lt;/Tank&gt;\n                    &lt;ApplicationWindow type=\"xCropProtection.MonthDaySpan\" scales=\"global\"&gt;\n                        04-12 to 04-20\n                    &lt;/ApplicationWindow&gt;\n                    &lt;Technology scales=\"global\"&gt;Technology&lt;/Technology&gt;\n                    &lt;InCropBuffer type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InCropBuffer&gt;\n                    &lt;InFieldMargin type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InFieldMargin&gt;\n                    &lt;MinimumAppliedArea type=\"float\" unit=\"m\u00b2\" scales=\"global\"&gt;0&lt;/MinimumAppliedArea&gt;\n                &lt;/Application&gt;\n            &lt;/ApplicationSequence&gt;\n        &lt;/Indication&gt;\n    &lt;/Indications&gt;\n&lt;/PPMCalendar&gt;\n</code></pre>"},{"location":"scenarios/multiple-indications.html#explanation","title":"Explanation","text":"<p>In this example, a field with LULC type 10 will receive 1 application of either Product 1 or Product 2, AND 1 application of either Product 3 or Product 4. Note that the dates of each of these applications are completely independent of each other.</p> <pre><code>&lt;Indications&gt;\n    &lt;Indication type=\"xCropProtection.ChoiceDistribution\" scales=\"time/year, space/base_geometry\"&gt;\n        &lt;ApplicationSequence probability=\"0.7\"&gt;\n            &lt;Application&gt;\n                &lt;Tank&gt;\n                    &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n                        Product 1\n                    ...\n                &lt;/Tank&gt;\n                ...\n            &lt;/Application&gt;\n        &lt;/ApplicationSequence&gt;\n        &lt;ApplicationSequence probability=\"0.3\"&gt;\n            &lt;Application&gt;\n                &lt;Tank&gt;\n                    &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n                        Product 2\n                    &lt;/Products&gt;\n                    ...\n                &lt;/Tank&gt;\n                ...\n            &lt;/Application&gt;\n        &lt;/ApplicationSequence&gt;\n    &lt;/Indication&gt;\n    &lt;Indication type=\"xCropProtection.ChoiceDistribution\" scales=\"time/year, space/base_geometry\"&gt;\n            &lt;ApplicationSequence probability=\"0.2\"&gt;\n                &lt;Application&gt;\n                    &lt;Tank&gt;\n                        &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n                            Product 3\n                        &lt;/Products&gt;\n                        ...\n                    &lt;/Tank&gt;\n                    ...\n                &lt;/Application&gt;\n            &lt;/ApplicationSequence&gt;\n            &lt;ApplicationSequence probability=\"0.8\"&gt;\n                &lt;Application&gt;\n                    &lt;Tank&gt;\n                        &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n                            Product 4\n                        &lt;/Products&gt;\n                        ...\n                    &lt;/Tank&gt;\n                    ...\n                &lt;/Application&gt;\n            &lt;/ApplicationSequence&gt;\n        &lt;/Indication&gt;\n&lt;/Indications&gt;\n</code></pre> <p>For explanations of each element, see Simple Scenario.</p>"},{"location":"scenarios/multiple-indications.html#illustration","title":"Illustration","text":"<p>See also 'Indications' for the full picture of xCP entities and their relationship.</p>"},{"location":"scenarios/north-rhine-westphalia.html","title":"North Rhine-Westphalia","text":"<p>In progress</p>"},{"location":"scenarios/north-rhine-westphalia.html#overview","title":"Overview","text":"<p>This scenario represents arable land in North Rhine-Westphalia in 2018. The application information is derived from a survey conducted over the time period of 1995-2020 which identifies substances, quantities, and what region applications on crops occurred in.</p> <p>GitHub repository for scenario</p>"},{"location":"scenarios/north-rhine-westphalia.html#geo-information","title":"Geo information","text":"<p>The spatial data for this scenario was constructed based on ATKIS polygons from 2016. The ATKIS polygons were filtered to only include polygons labeled as arable. A national scale raster crop type map of Germany (Schwieder et al.) was used to attribute the ATKIS polygons with more detailed crop types. This was done by summarizing the raster crop map for each polygon and choosing the crop type with the greatest number of raster cells.</p>"},{"location":"scenarios/north-rhine-westphalia.html#application-information","title":"Application information","text":"<p>The source application information was obtained from a survery of growers in Germany conducted from 1995 to 2020. Each row in the source data represents the usage information of one product on one crop in a specific region and year. The source data includes the following columns:</p> <ul> <li>Active group (S)</li> <li>Time of use: Autumn/Spring (S): The time of year that the product is applied. This value is either Autumn, Spring, or Unknown.</li> <li>Crop (S): The crop name.</li> <li>Crop group (S): An aggregated crop group (e.g., cereals, tree fruits, or vegetables).</li> <li>Product (S): The product's commercial name. This can also include other treatment types such as mechanical treatment, ploughing up, no treatment, or weather damage.</li> <li>Product type segmentation (S): The general type of the product (e.g., Herbicide, Insecticide, Fungicide, or Aracicide).</li> <li>Land (S): The federal state that this row provides information for.</li> <li>District (S): One of 36 unique districts.</li> <li>Crop year (S): A year between 1995 and 2020. 1995 data is incomplete.</li> <li>Special - Region =&gt; Germany: One of 56 unique districts</li> <li>Avg. application rate (l or kg/ha): The average application rate of this product across all growers who reported using it.</li> <li>Cultivated area sum 1000 ha (TCA): The total cultivated area of a crop in a region in a year. In units of 1000 ha.</li> <li>SDA area 1000 ha (SDA): The total applied area of this product on a crop in a region in a year. It is possible for this value to be greater than the total cultivated area due to multiple applications of a product. In units of 1000 ha.</li> <li>Tonnage (t): The application rate in l/ha or kg/ha multiplied by the total applied area (SDA area).</li> </ul> <p>The crop names in the survey data were not the same as crop names in the spatial data, therefore, a mapping was implemented. Each survey crop name was mapped to a crop type from the national scale raster crop map of Germany.</p> <p>Survey to crop map codes mapping</p>"},{"location":"scenarios/north-rhine-westphalia.html#calendar-creation","title":"Calendar creation","text":"<p>To create the PPM Calendars for this scenario, the source survey data was joined with the survey to crop codes mapping file (linked above) to provide a crop map LULC code for each survey entry.</p> <p>To calculate application probabilities, the following process was repeated for each year of the survey data:</p> <ol> <li>Filter the survey data to one of the three possible values for time of use: Autumn, Spring, or Unknown. Steps 2-6 are repeated for each time of use.</li> <li>Get all unique crop map LULC values that are present in the filtered survey data from step 1. Filter the survey data to only include records with crop map LULC codes equal to the first unique LULC code. Steps 3-6 are repeated for each crop map LULC value.</li> <li>Calculate the total cultivated area for the crop map LULC code. This is calculated by summing the unique \"Cultivated area sum 1000 ha (TCA)\" values in the filtered data.</li> <li>For each unique survey crop in the filtered data:<ol> <li>Filter the survey data from step 2 to only include records with the unique survey crop type.</li> <li>Calculate the total cultivated area of that crop. Divide the survey crop's total cultivated area by the crop map LULC's total cultivated area to get the probability that a given field is that crop type. This calculation is necessary because the spatial data only contains information as detailed as the crop map LULC type, and the survey crop types are more detailed.</li> <li>Check if there are actually any applications to this survey crop in the filtered survey data. It is possible for the crop map LULC code to exist in the filtered survey data, but not each individial crop. If there are applications, continue to step 5.</li> </ol> </li> <li>For each product application in the survey data, compare the \"SDA area 1000 ha (SDA)\", or the total applied area of this product with the filtered data from step 4. If the SDA area is greater than the crop's total cultivated area, there must be at least one application of this product to every field. Subtract the total cultivated area value from the applied area value and compare them again. Stop once the applied area is less than or equal to the total cultivated area value. Note these applications in a separate PPM Calendar which applies this product to all fields of the current crop map LULC code/survey crop.</li> <li>Add all applied area values of the filtered data. The chance of any one product being chosen equals the applied area of that product divided by the total applied area of all products from step 4.</li> </ol> <p>A PPM Calendar for this scenario follows this structure (some elements omitted for space):</p> <pre><code>&lt;TemporalValidity&gt;\n    dd-mm-yyyy to dd-mm-yyyy\n&lt;/TemporalValidity&gt;\n&lt;TargetCrops type=\"list[int]\" scales=\"global\"&gt;\n    LULC code(int)\n&lt;/TargetCrops&gt;\n&lt;Indications type=\"xCropProtection.ChoiceDistribution\" scales=\"time/year, space/base_geometry\"&gt;\n    &lt;!-- Crop 1 --&gt;\n    &lt;Indication probability=\"0.9\"&gt;\n        &lt;Indication type=\"xCropProtection.ChoiceDistribution\" scales=\"time/year, space/base_geometry\"&gt;\n        &lt;ApplicationSequence probability=\"0.004579\"&gt;\n            ...\n        &lt;/ApplicationSequence&gt;\n        &lt;ApplicationSequence probability=\"0.106977\"&gt;\n            ...\n        &lt;/ApplicationSequence&gt;\n        &lt;ApplicationSequence probability=\"0.070475\"&gt;\n            ...\n        &lt;/ApplicationSequence&gt;\n        ...\n        &lt;/Indication&gt;\n    &lt;/Indication&gt;\n    &lt;!-- Crop 2 --&gt;\n    &lt;Indication probability=\"0.07\"&gt;\n        &lt;Indication type=\"xCropProtection.ChoiceDistribution\" scales=\"time/year, space/base_geometry\"&gt;\n        &lt;ApplicationSequence probability=\"0.122716\"&gt;\n            ...\n        &lt;/ApplicationSequence&gt;\n        &lt;ApplicationSequence probability=\"0.219861\"&gt;\n            ...\n        &lt;/ApplicationSequence&gt;\n        ...\n        &lt;/Indication&gt;\n    &lt;/Indication&gt;\n    &lt;!-- Crop 3 --&gt;\n    &lt;Indication probability=\"0.03\"&gt;\n        &lt;Indication type=\"xCropProtection.ChoiceDistribution\" scales=\"time/year, space/base_geometry\"&gt;\n        &lt;ApplicationSequence probability=\"0.028835\"&gt;\n            ...\n        &lt;/ApplicationSequence&gt;\n        &lt;ApplicationSequence probability=\"0.133795\"&gt;\n            ...\n        &lt;/ApplicationSequence&gt;\n        ...\n        &lt;/Indication&gt;\n    &lt;/Indication&gt;\n&lt;/Indications&gt;\n</code></pre> <p>Example going from source table to final calendar:</p>"},{"location":"scenarios/north-rhine-westphalia.html#results","title":"Results","text":""},{"location":"scenarios/rummen-scenario.html","title":"Rummen (full)","text":""},{"location":"scenarios/rummen-scenario.html#overview","title":"Overview","text":"<p>This scenario represents a catchment near Rummen, Belgium. It represents real-world use patterns of apple growers in Belgium using survey data from 2021.</p> <p>GitHub repository for scenario</p>"},{"location":"scenarios/rummen-scenario.html#geo-information","title":"Geo information","text":"<p>LULC type 222 is the target type for all applications. In total, there are 4,975 fields in the Rummen scenario.</p> <p>Field information:</p> LULC type Number of fields Area (ha) 222 2,611 3,085 411 3 0.6 412 100 4 422 1,661 28"},{"location":"scenarios/rummen-scenario.html#application-information","title":"Application information","text":"<p>Location of PPM Calendars: CropProtection\\PPMCalendars\\Rummen-full</p> <p>Application information obtained by surveying apple growers in 2021 was used to paramaterize xCropProtection. An application window of 5 days before and after the source application date was added (e.g., application date of May 16<sup>th</sup> -&gt; application window of May 11<sup>th</sup> - May 21<sup>st</sup>).</p> <p>This scenario is split into two sub-scenarios: scenario A and scenario B. In scenario A, all applications in the source table map directly to <code>Application</code> elements in the PPM Calendars. This means that applications with the same application date in the source table may not actually be applied on the same day. In scenario B, any applications defined with the same application date are added to a tank mix. In scenario B, any products applied on the same day in the source data are applied on the same day in xCropProtection.</p> <p>The following is an example of the differences between scenario A and scenario B:</p> Scenario A<pre><code>&lt;Application&gt;\n    &lt;Tank&gt;\n        &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n            Product 1\n        &lt;/Products&gt;\n        &lt;ApplicationRates scales=\"other/products\"&gt;\n            &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;\n                1000\n            &lt;/ApplicationRate&gt;\n        &lt;/ApplicationRates&gt;\n    &lt;/Tank&gt;\n    &lt;ApplicationWindow type=\"xCropProtection.MonthDaySpan\"&gt;04-06 to 04-16&lt;/ApplicationWindow&gt;\n    &lt;Technology scales=\"global\"&gt;Technology&lt;/Technology&gt;\n    &lt;InCropBuffer type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InCropBuffer&gt;\n    &lt;InFieldMargin type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InFieldMargin&gt;\n    &lt;MinimumAppliedArea type=\"float\" unit=\"m\u00b2\" scales=\"global\"&gt;0&lt;/MinimumAppliedArea&gt;\n&lt;/Application&gt;\n&lt;Application&gt;\n    &lt;Tank&gt;\n        &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n            Product 2\n        &lt;/Products&gt;\n        &lt;ApplicationRates scales=\"other/products\"&gt;\n            &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;\n                300\n            &lt;/ApplicationRate&gt;\n        &lt;/ApplicationRates&gt;\n    &lt;/Tank&gt;\n    &lt;ApplicationWindow type=\"xCropProtection.MonthDaySpan\"&gt;04-06 to 04-16&lt;/ApplicationWindow&gt;\n    &lt;Technology scales=\"global\"&gt;Technology&lt;/Technology&gt;\n    &lt;InCropBuffer type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InCropBuffer&gt;\n    &lt;InFieldMargin type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InFieldMargin&gt;\n    &lt;MinimumAppliedArea type=\"float\" unit=\"m\u00b2\" scales=\"global\"&gt;0&lt;/MinimumAppliedArea&gt;\n&lt;/Application&gt;\n</code></pre> Scenario B<pre><code>&lt;Application&gt;\n    &lt;Tank&gt;\n        &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n            Product 1|Product 2\n        &lt;/Products&gt;\n        &lt;ApplicationRates scales=\"other/products\"&gt;\n            &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;\n                1000\n            &lt;/ApplicationRate&gt;\n            &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;\n                300\n            &lt;/ApplicationRate&gt;\n        &lt;/ApplicationRates&gt;\n    &lt;/Tank&gt;\n    &lt;ApplicationWindow type=\"xCropProtection.MonthDaySpan\"&gt;04-06 to 04-16&lt;/ApplicationWindow&gt;\n    &lt;Technology scales=\"global\"&gt;Technology&lt;/Technology&gt;\n    &lt;InCropBuffer type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InCropBuffer&gt;\n    &lt;InFieldMargin type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InFieldMargin&gt;\n    &lt;MinimumAppliedArea type=\"float\" unit=\"m\u00b2\" scales=\"global\"&gt;0&lt;/MinimumAppliedArea&gt;\n&lt;/Application&gt;\n</code></pre>"},{"location":"scenarios/rummen-scenario.html#results","title":"Results","text":""},{"location":"scenarios/rummen-subset.html","title":"Rummen (subset)","text":""},{"location":"scenarios/rummen-subset.html#overview","title":"Overview","text":"<p>This scenario is a subset of the full Rummen scenario. Its main purpose is to test xCropProtection features and repository configuration.</p>"},{"location":"scenarios/rummen-subset.html#geo-information","title":"Geo information","text":"<p>This scenario consists of 1,000 fields, half having the LULC type 222 and half having the LULC type 444.</p> <p>Field information:</p> LULC type Number of fields Area (ha) 222 500 524 444 500 620"},{"location":"scenarios/rummen-subset.html#application-information","title":"Application information","text":"<p>Location of PPM Calendars: CropProtection\\PPMCalendars\\Rummen-xCP-TestingScenario</p> <p>This scenario may be used along with its PPM Calendars to gain familiarity with the structure and output of xCropProtection. The two PPM Calendars located in the Rummen-xCP-TestingScenario folder contain simple applications with sample products. This scenario may also be used in the development of new PPM Calendars because of the relatively small number of fields.</p>"},{"location":"scenarios/simple-scenario.html","title":"Simple Scenario","text":"<p>This scenario represents the most basic use case of xCropProtection: 1 application of a product into 1 crop that occurs every year.</p> <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;PPMCalendar xmlns=\"urn:xCropProtectionLandscapeScenarioParametrization\"&gt;\n    &lt;TemporalValidity scales=\"time/simulation\"&gt; always &lt;/TemporalValidity&gt;\n    &lt;TargetCrops type=\"list[int]\" scales=\"global\"&gt; 10 &lt;/TargetCrops&gt;\n    &lt;Indications&gt;\n        &lt;Indication type=\"xCropProtection.ChoiceDistribution\" scales=\"time/year, space/base_geometry\"&gt;\n            &lt;ApplicationSequence probability=\"1\"&gt;\n                &lt;Application&gt;\n                    &lt;Tank&gt;\n                        &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n                            Product 1\n                        &lt;/Products&gt;\n                        &lt;ApplicationRates scales=\"other/products\"&gt;\n                            &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;\n                                100\n                            &lt;/ApplicationRate&gt;\n                        &lt;/ApplicationRates&gt;\n                    &lt;/Tank&gt;\n                    &lt;ApplicationWindow type=\"xCropProtection.MonthDaySpan\" scales=\"global\"&gt;\n                        05-01 to 05-10\n                    &lt;/ApplicationWindow&gt;\n                    &lt;Technology scales=\"global\"&gt;Technology&lt;/Technology&gt;\n                    &lt;InCropBuffer type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InCropBuffer&gt;\n                    &lt;InFieldMargin type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InFieldMargin&gt;\n                    &lt;MinimumAppliedArea type=\"float\" unit=\"m\u00b2\" scales=\"global\"&gt;0&lt;/MinimumAppliedArea&gt;\n                &lt;/Application&gt;\n            &lt;/ApplicationSequence&gt;\n        &lt;/Indication&gt;\n    &lt;/Indications&gt;\n&lt;/PPMCalendar&gt;\n</code></pre>"},{"location":"scenarios/simple-scenario.html#explanation","title":"Explanation","text":"<p>Product 1 is applied every year for the whole duration of the simulation:</p> <pre><code>&lt;TemporalValidity scales=\"time/simulation\"&gt; always &lt;/TemporalValidity&gt;\n</code></pre> <p>Product 1 is applied on fields with LULC type 10:</p> <pre><code>&lt;TargetCrops type=\"list[int]\" scales=\"global\"&gt; 10 &lt;/TargetCrops&gt;\n</code></pre> <p>The product applied has the name Product 1:</p> <pre><code>&lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n    Product 1\n&lt;/Products&gt;\n</code></pre> <p>Product 1 has an application rate of 100 g/ha:</p> <pre><code>&lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt; 100 &lt;/ApplicationRate&gt;\n</code></pre> <p>The application occurs between the days of May 1st and May 10th (inclusive) with each day being equally likely:</p> <pre><code>&lt;ApplicationWindow type=\"xCropProtection.MonthDaySpan\" scales=\"global\"&gt;\n    05-01 to 05-10\n&lt;/ApplicationWindow&gt;\n</code></pre> <p>The application uses the <code>Technology</code> with the name \"Technology\":</p> <pre><code>&lt;Technology scales=\"global\"&gt;Technology&lt;/Technology&gt;\n</code></pre> <p>There are no in field margins or in-crop buffers:</p> <pre><code>&lt;InCropBuffer type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InCropBuffer&gt;\n&lt;InFieldMargin type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InFieldMargin&gt;\n</code></pre> <p>An application will occur if the field's area is greater than or equal to 0 m\u00b2:</p> <pre><code>&lt;MinimumAppliedArea type=\"float\" unit=\"m\u00b2\" scales=\"global\"&gt;0&lt;/MinimumAppliedArea&gt;\n</code></pre>"},{"location":"scenarios/simple-scenario.html#illustration","title":"Illustration","text":"<p>See also 'Indications' for the full picture of xCP entities and their relationship.</p>"},{"location":"scenarios/tank-mixes.html","title":"Tank mixes","text":""},{"location":"scenarios/tank-mixes.html#background","title":"Background","text":"<p>When farmers put multiple PPPs in the same spray tank, this is called a Tank mix. Tank mixes allow farmers to reduce the ressorce needs for pest control (time, fuel), to increase pest control efficacy, or for pest resistance management.  As a consequence, the products in a tank mix are applied at the same field (space), at the same time, using the same technology and risk mitigation. This can cause different environmental effects than a more variable product use. In order to reflect this PPP use pattern (eg, in pesticide risk assessment) xCP allows to define Tank mixes.  </p>"},{"location":"scenarios/tank-mixes.html#parameterisation","title":"Parameterisation","text":"<p>xCP has an entity <code>Tank</code>. Multiple products can be defined in one tank to ensure that they will be applied on the same date and with the same values for <code>InCropBuffer</code>, <code>InFieldMargin</code> (and <code>MinimumAppliedArea</code>). Additionally, if the <code>ApplicationRates</code> are defined as probability distributions, the sampling of all <code>ApplicationRates</code> will occur with the same parameters.</p> <p>Note</p> <p>The number of <code>Products</code> in a <code>Tank</code> and the number of <code>ApplicationRates</code> must be the same; however, no warnings will appear if the numbers are not equal. The first <code>ApplicationRate</code> applies to the first product in the <code>Tank</code>, the second <code>ApplicationRate</code> applies to the second product in the <code>Tank</code>, etc. Multiple product names must be separated with a '|' character.</p> <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;PPMCalendar xmlns=\"urn:xCropProtectionLandscapeScenarioParametrization\"&gt;\n    &lt;TemporalValidity scales=\"time/simulation\"&gt; always &lt;/TemporalValidity&gt;\n    &lt;TargetCrops type=\"list[int]\" scales=\"global\"&gt; 10 &lt;/TargetCrops&gt;\n    &lt;Indications&gt;\n        &lt;Indication type=\"xCropProtection.ChoiceDistribution\" scales=\"time/year, space/base_geometry\"&gt;\n            &lt;ApplicationSequence probability=\"1\"&gt;\n                &lt;Application&gt;\n                    &lt;Tank&gt;\n                        &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;\n                            Product 1|Product 2\n                        &lt;/Products&gt;\n                        &lt;ApplicationRates scales=\"other/products\"&gt;\n                            &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;\n                                100\n                            &lt;/ApplicationRate&gt;\n                            &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;\n                                150\n                            &lt;/ApplicationRate&gt;\n                        &lt;/ApplicationRates&gt;\n                    &lt;/Tank&gt;\n                    &lt;ApplicationWindow type=\"xCropProtection.MonthDaySpan\" scales=\"global\"&gt;\n                        05-01 to 05-10\n                    &lt;/ApplicationWindow&gt;\n                    &lt;Technology scales=\"global\"&gt;Technology&lt;/Technology&gt;\n                    &lt;InCropBuffer type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InCropBuffer&gt;\n                    &lt;InFieldMargin type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InFieldMargin&gt;\n                    &lt;MinimumAppliedArea type=\"float\" unit=\"m\u00b2\" scales=\"global\"&gt;0&lt;/MinimumAppliedArea&gt;\n                &lt;/Application&gt;\n            &lt;/ApplicationSequence&gt;\n        &lt;/Indication&gt;\n    &lt;/Indications&gt;\n&lt;/PPMCalendar&gt;\n</code></pre>"},{"location":"scenarios/tank-mixes.html#explanation","title":"Explanation","text":"<p>In this example, Product 1 and Product 2 have been added to one <code>Tank</code>. Each year of the simulation, they will both be applied on the same day between May 1st and May 10th (a random day will be selected each year with each day being equally likely). Product 1 will receive an application rate of 100 g/ha and Product 2 will receive an application rate of 150 g/ha. Values for <code>Technology</code>, <code>InCropBuffer</code>, <code>InFieldMargin</code>, and <code>MinimumAppliedArea</code> will apply to both product applications.</p> <p>For explanations of each element, see Simple Scenario.</p>"},{"location":"scenarios/tank-mixes.html#illustration","title":"Illustration","text":"<p>See also 'Indications' for the full picture of xCP entities and their relationship.</p>"},{"location":"scenarios/templates-intro.html","title":"Intro","text":"<p>The Templates section provides examples for xCP Parameterisations. Parameterisation refers to the actual xCP parameterisation, ie. building PPP use scenarios.  The templates are for learning purposes and can be used as building block for your own parameterisation.   </p> <p>Note: the parameterisation makes use of XML as a necessary and sufficient representation of the natural complexity of the characteristics of real-world PPP applications in cultivated landscapes. We are fully aware that XML is not the ideal user interface. The development of a graphical user interface (GUI) is planned.  </p>"},{"location":"scenarios/wetterau-scenario.html","title":"Wetterau","text":""},{"location":"scenarios/wetterau-scenario.html#overview","title":"Overview","text":"<p>This scenario is located in the Wetterau (Hessian, Germany). It is a subset of a larger scenario, and contains only 52 fields. Each field has been randomly assigned one of 5 land use types.</p>"},{"location":"scenarios/wetterau-scenario.html#geo-information","title":"Geo information","text":"<p>In total, there are 52 fields in the Wetterau scenario.</p> <p>Field information:</p> LULC type Number of fields Area (ha) 6 (maize) 13 50.9 9 (potato) 8 58.5 12 (sugar beet) 4 6.9 16 (spring barley) 5 39.5 17 (winter wheat) 22 102.1"},{"location":"scenarios/wetterau-scenario.html#application-information","title":"Application information","text":"<p>Location of PPM Calendars: CropProtection\\PPMCalendars\\Wetterau-scenario-subset</p> <p>The Wetterau scenario uses 5 PPM Calendars, one for each crop type. Each calendar is paramaterized with one application of a product named \"Product_i1\", with different application windows for each crop type.</p>"},{"location":"troubleshooting/troubleshooting.html","title":"Troubleshooting","text":"<p>This page covers common error messages, what they mean, and how to resolve them.</p>"},{"location":"troubleshooting/troubleshooting.html#attributeerror","title":"AttributeError","text":"<pre><code>AttributeError: 'ConstantVariable' object has no attribute 'apply_today'\n</code></pre> <p>Explanation:</p> <p>This error occurs when <code>Indication</code> or <code>Indications</code> elements are misconfigured.</p> <p>Possible solutions:</p> <ul> <li>Check any <code>Indication</code> or <code>Indications</code> elements which are choice distributions. All their child elements must have probability attributes associated with them.</li> </ul>"},{"location":"troubleshooting/troubleshooting.html#fileexistserror","title":"FileExistsError","text":"<pre><code>FileExistsError: [WinError 183] Cannot create a file when that file already exists:\n'C:\\\\xCropProtection\\\\run\\\\Rummen-xCP-TestingScenario'\n</code></pre> <p>Explanation:</p> <p>A folder with the same name as <code>SimID</code> exists in the ...\\run\\ folder.</p> <p>Possible solutions:</p> <ul> <li>Delete or move the folder to run xCropProtection using that <code>SimID</code>.</li> <li>Change the <code>SimID</code> value to one that does not already exist in the ...\\run\\ folder.</li> </ul>"},{"location":"troubleshooting/troubleshooting.html#filenotfounderror","title":"FileNotFoundError","text":"<pre><code>FileNotFoundError: [Errno 2] No such file or directory: 'C:\\\\xCropProtection\\\\run\\\\T1EJS3N0CON7NRN3.xml'\n</code></pre> <p>Explanation:</p> <p>No run folder exists in the xCropProtection directory. This usually occurs the first time the repository is cloned from GitHub.</p> <p>Possible solutions:</p> <ul> <li>Create a new folder with the name run in the root directory of xCropProtection. This should be on the same level as the model and scenario folders.</li> </ul>"},{"location":"troubleshooting/troubleshooting.html#hdfview-error","title":"HDFview error","text":"<p>In rare cases, opening \"AppliedAreas\" generated from a large amount of input data may cause HDFView to crash due to its data type. Use xCP_write_csv.ipynb to write the data to a csv.</p>"},{"location":"troubleshooting/troubleshooting.html#keyerror","title":"KeyError","text":"<pre><code>appl_window = self._applicationWindow.get((day, field), (\"time/day, space/base_geometry\"))\n  File \"C:\\xCropProtection\\model\\core\\components\\xCropProtection\\distributions.py\", line 264, in get\n    return self._value[conv_index]\nKeyError: (730121,)\n</code></pre> <p>Explanation:</p> <p>An <code>ApplicationWindow</code> has a <code>scales</code> value of \"time/day\" or \"time/year\".</p> <p>Possible solutions:</p> <ul> <li>Determine which <code>ApplicationWindow</code> element has a <code>scales</code> value of \"time/day\" or \"time/year\". Set <code>scales</code> to \"global\" (including quotation marks).</li> </ul>"},{"location":"troubleshooting/troubleshooting.html#valueerror-chunk-shape","title":"ValueError: chunk shape","text":"<pre><code>ValueError: Chunk shape must not be greater than data shape in any dimension. (1,) is not compatible with (0,)\n</code></pre> <p>Explanation:</p> <p>The number of applied areas calculated by xCropProtection is different than the expected value. Incorrect or overly restrictive constraints on dates, fields, or crop type may result in zero applications being performed during the simulation.</p> <p>Possible solutions:</p> <ul> <li>Check the value of <code>SimulationStart</code> and <code>SimulationEnd</code> in template.xrun. Compare these values to the <code>TemporalValidity</code> defined in all PPMCalendars used in the xCropProtection run. The <code>TemporalValidity</code> should overlap with the simulation start and end values.</li> <li>In all PPMCalendars, check <code>Application</code> elements' <code>ApplicationWindow</code> date ranges. It is possible that application windows are defined for days/months outside the simulation start and end values set in template.xrun.</li> <li>In all PPMCalendars, check the value of <code>TargetCrops</code>. Verify that this is an integer value and that one or more fields in the scenario have this crop type. In \\xCropProtection\\scenario\\[scenario name]\\geo\\package.xinfo, verify that <code>feature_type_attribute</code> refers to the correct field name. In the same file, verify that <code>base_landscape_geometries</code> refers to the correct shapefile.</li> <li>In all PPMCalendars, check the value of <code>TargetFields</code>. Verify that this is an integer value or list of integers and that one or more fields in the scenario have this ID. In \\xCropProtection\\scenario\\[scenario name]\\geo\\package.xinfo, verify that <code>feature_id_attribute</code> refers to the correct field name. In the same file, verify that <code>base_landscape_geometries</code> refers to the correct shapefile.</li> </ul>"},{"location":"troubleshooting/troubleshooting.html#valueerror-empty-range","title":"ValueError: empty range","text":"<pre><code>ValueError: empty range for randrange() (359, 6, -353)\n</code></pre> <p>Explanation:</p> <p>The dates of an <code>ApplicationWindow</code> are outside of the allowable range.</p> <p>Possible solutions:</p> <ul> <li>xCropProtection does not support <code>ApplicationWindow</code> ranges that span between multiple years (e.g. December to January).</li> <li>Check the value of all <code>ApplicationWindow</code> elements to be sure that the month that comes first in the year is listed first in the date range. For example, a window of 10-14 to 05-21 would produce this error because xCropProtection interprets this window as October 14th to May 21st, which is invalid.</li> <li>Check that the format of <code>ApplicationWindow</code> date ranges are in the format mm-dd to mm-dd.</li> </ul>"},{"location":"troubleshooting/troubleshooting.html#valueerror-probability-sum","title":"ValueError: probability sum","text":"<pre><code>ValueError: Probability sum is not 1.0!\n</code></pre> <p>Explanation:</p> <p>The sum of probability values in one of the choice distributions defined in a PPMCalendar does not equal 1.0.</p> <p>Possible solutions:</p> <ul> <li>Check the probability values in all PPMCalendars to ensure they sum to 1.0.</li> <li>xCropProtection allows a small amount of error when calculating the sum of a choice distribution's probability values. The sum is rounded to 5 decimal places to prevent floating-point arithmetic errors that may occur when adding floating-point values in python. Further explanation can be found on the Python.org website.</li> </ul>"},{"location":"xCropProtection-templates/simple-excel-interface.html","title":"Simple Excel Interface","text":"<p>As a first step to developing a full Graphical User Interface (GUI), we have developed an Excel interface that makes parameterizing simple xCropProtection scenarios easier. This Excel file is used as an alternative to the xCropProtection XML parameterization files (referred to as xCropProtection.xml on this page).</p>"},{"location":"xCropProtection-templates/simple-excel-interface.html#general-information","title":"General information","text":"<p>The Excel interface should be used when the scenario spans only one year or PPP applications occur during the same window each year. Multiple LULC types and PPPs can be defined, but no probability distribution functions are allowed for application rates (each rate must be a constant value). Each application can have independent in-crop buffers, in-field margins, and spray-drift reduction values. However, this interface does not support choice between multiple application sequences.</p> <p>A PPM Calendar will be created for each unique LULC added to the Excel interface, with each PPM Calendar having one <code>Indication</code> and <code>ApplicationSequence</code> element.</p>"},{"location":"xCropProtection-templates/simple-excel-interface.html#user-guide","title":"User guide","text":"<p>The Excel interface must be located in the xCropProtection/CropProtection folder, just like an XML parameterization file. In xCropProtection/template.xrun, be sure to change the file extension from .xml to .xlsx to denote that the input is an Excel file.</p> <p>UI-template.xlsx</p> <p>Using the above file as an example, the following section will describe how to parameterize the Excel file.</p> <p>The first sheet in the UI template holds metadata about the file which is not used by xCropProtection, but helps others who may use the file.</p> <p></p> <p>The second sheet contains information about the columns in the third sheet including the data type, description, and if it is a required column. No changes need to be made to this sheet, as it exists for reference when parameterizing the input file.</p> <p></p> <p>The third sheet, xCropProtection, holds the parameterization information. Everything in this sheets gets translated to an xCropProtection.xml file, similar to what would be written by hand. A PPM Calendar is created for each LULC type, with all child elements included in the same file. This may look slightly different than hand-written xCropProtection XML files, which often use this \"include\" structure to make XML development easier:</p> xCropProtection.xml<pre><code>&lt;xCropProtection&gt;\n    &lt;PPMCalendars&gt;\n        &lt;PPMCalendar include=\"PPMCalendars/Rummen-xCP-TestingScenario/PPMCalendar-222.xml\"/&gt;\n        &lt;PPMCalendar include=\"PPMCalendars/Rummen-xCP-TestingScenario/PPMCalendar-444.xml\"/&gt;\n    &lt;/PPMCalendars&gt;\n    &lt;Technologies include=\"Technologies.xml\"/&gt;\n&lt;/xCropProtection&gt;\n</code></pre> <p>Every PPM Calendar created with this parser will have the following structure:</p> <pre><code>&lt;PPMCalendar&gt;\n    &lt;TemporalValidity scales=\"time/simulation\"&gt;always&lt;/TemporalValidity&gt;\n    &lt;TargetCrops type=\"list[int]\" scales=\"global\"&gt;222&lt;/TargetCrops&gt;\n    &lt;Indications&gt;\n    &lt;Indication type=\"xCropProtection.ChoiceDistribution\" scales=\"time/year, space/base_geometry\"&gt;\n        &lt;ApplicationSequence probability=\"1.0\"&gt;\n        &lt;Application&gt;\n            ...\n        &lt;/Application&gt;\n        &lt;Application&gt;\n            ...\n        &lt;/Application&gt;\n        ...\n</code></pre> <p>In other words, there will always be one <code>Indication</code> and one <code>ApplicationSequence</code> with multiple <code>Application</code> elements. Each row in this file will be translated to one of these <code>Application</code> XML elements. Each column in the sheet gives a different piece of information about that application.</p> <p></p> <p>As an example, the first two rows in the image above will translate to the following XML elements:</p> <pre><code>...\n&lt;Application&gt;\n    &lt;Tank&gt;\n        &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;PPP1&lt;/Products&gt;\n        &lt;ApplicationRates scales=\"other/products\"&gt;\n            &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;100&lt;/ApplicationRate&gt;\n        &lt;/ApplicationRates&gt;\n    &lt;/Tank&gt;\n    &lt;ApplicationWindow type=\"xCropProtection.MonthDaySpan\" scales=\"global\"&gt;03-01 to 03-20&lt;/ApplicationWindow&gt;\n    &lt;Technology scales=\"global\"&gt;0.3-spray-drift-reduction&lt;/Technology&gt;\n    &lt;InCropBuffer type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InCropBuffer&gt;\n    &lt;InFieldMargin type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InFieldMargin&gt;\n&lt;/Application&gt;\n&lt;Application&gt;\n    &lt;Tank&gt;\n        &lt;Products type=\"list[str]\" scales=\"other/products\"&gt;PPP2&lt;/Products&gt;\n        &lt;ApplicationRates scales=\"other/products\"&gt;\n            &lt;ApplicationRate type=\"float\" unit=\"g/ha\" scales=\"global\"&gt;150&lt;/ApplicationRate&gt;\n        &lt;/ApplicationRates&gt;\n    &lt;/Tank&gt;\n    &lt;ApplicationWindow type=\"xCropProtection.MonthDaySpan\" scales=\"global\"&gt;04-15 to 04-30&lt;/ApplicationWindow&gt;\n    &lt;Technology scales=\"global\"&gt;0.2-spray-drift-reduction&lt;/Technology&gt;\n    &lt;InCropBuffer type=\"float\" unit=\"m\" scales=\"global\"&gt;5&lt;/InCropBuffer&gt;\n    &lt;InFieldMargin type=\"float\" unit=\"m\" scales=\"global\"&gt;0&lt;/InFieldMargin&gt;\n&lt;/Application&gt;\n...\n</code></pre> <p>Each unique value in the \"Spray-drift reduction [fraction]\" column is assigned to a technology element with the naming convention fraction + \"-spray-drift-reduction\".</p> <p>Currently, xCropProtection writes the intermediate XML translation file to the xCropProtection/run/SIM_ID folder. This file may be checked to be sure that parameterization is written as expected.</p>"},{"location":"xLandscape/xLandscape-buildingModels.html","title":"Landscape Model Composition","text":""},{"location":"xLandscape/xLandscape-buildingModels.html#implementation","title":"Implementation","text":"<p>Landscape Model composition using XML (Sascha Bub, RPTU, presentation at SETAC 2023)</p>"},{"location":"xLandscape/xLandscape-components.html","title":"Components","text":""},{"location":"xLandscape/xLandscape-components.html#examples","title":"Examples","text":""},{"location":"xLandscape/xLandscape-components.html#xdrift","title":"xDrift","text":"<p>Example module  xDrift- Bub, Schad, Gao 2020</p>"},{"location":"xLandscape/xLandscape-components.html#xcropprotection","title":"xCropProtection","text":""},{"location":"xLandscape/xLandscape-components.html#implementation","title":"Implementation","text":""},{"location":"xLandscape/xLandscape-intro.html","title":"xLandscape","text":"<p>xLandscape is not a model. It's a modular framework that allows to build models. The models to build are typically intended to simulate processes (phenomenons) in real-world landscapes. Therefore, the core of the xLandscape approach implements characteristics of spatiotemporally eXplicit modelling using geoinformation. Beyond space and time, further dimensions and scales are explicitly represented. The prefix x shall indicate this. This design intends to simulate pattern of real-world landscape conditions using a Monte Carlo approach. Another fundamental principle is that xLandscape has a modular design. Modules are called components as the software architecture is based on Component-Based Software Enginieering (CBSE). The graphic below shows the composition of a catchment-scale model xAquatic (Github: xAquatic).  </p> <p>The current major release level is 1.x, which essentially means that we have a working software available that implements the key design and  essential requirements. The Vision below explains where we want to go to. xLandscape is open source (Github: xLandscape, see the xLandscape README for technical details and instructions).  </p> <p> </p> <p>Illustration of a model composition using the xLandscape framework. The core is represented by the framing 'L' (dark blue). The boxes represent components (eg, 'xDrift') of specific functionality. The composition make a model, here xAquatic which simulates pesticide use in catchments, exposure of streams, pesticide transport and fate in streams, as well as effects to aquatic invertebrate species. The integration assures inner consistancy of data and semantics (indicated by the light blue backgroud).  </p> <p>For futher information you might contact Thorsten Schad (mailto:thorsten.schad@bayer.com) or Sascha Bub (mailto:sascha.bub@rptu.de).  </p>"},{"location":"xLandscape/xLandscape-intro.html#vision","title":"Vision","text":""},{"location":"xLandscape/xLandscape-intro.html#in-what-situation-did-we-start","title":"in what situation did we start?!","text":"<p>In the 2000s, pesticide risk assessment was largely based on a combination of conservative (worst-case) exposure scenarios and ecotoxicological testing conditions. Although this risk assessment design assures a high level of protectiveness, it does not allow to define effective and efficient risk management measures, nor does it provide approaches in cases where unacceptable risk was indicated for worst-case conditions. The need for more realistic risk assessment was also identified in different pesticide risk assessment related workgroups (eg, European Workshop on Probabilistic Risk Assessment for the Environmental Impacts of PPPs (EUPRA, Hart 2001), FOCUS Landscape and Mitigation (FOCUS 2007a, 2007b)), as well as in more generic initiatives (eg, Water Framework Directive (WFD, EC 2000), Sustainable Use Directive (EC 2009b), United Nations 'Millennium Ecosystem Assessment' (2005)). In a phase of improved availability of environmental (geo)data together with the establishment of mechanistic models (eg, EC/Joined Research Centre), early approaches were built for more realistic exposure and risk assessment at landscape-level (eg, Almass, IVA/GeoPERA, Julius-K\u00fchn-Institut/GIS, UBA/GeoRISK). Although significant progress was made, these early approaches had particular deficiencies in how naturally given variability was propagated to outcome (resulting in unrealstic system conditions) and tended to be rather large and intransparent monoliths. The models were not publically available and interoperability was not possible. A stepping stone towards addressing these shortcomings and so, recent developments was provided with the Xplicit approach (Schad &amp; Schulz 2011, Schad 2013). Xplicit intended to reproduce natural pattern of exposure in space and time and to get more modular and open. Xplicit was applied to a range of pesticide risk assessment studies.  </p> <p> </p> <p>Illustration of the application of xplicit to a NTA study in hops in Germany (Fach\u00f6kotox-Tagung Landau 2010) </p>"},{"location":"xLandscape/xLandscape-intro.html#current-developments-and-future-directions","title":"current developments and future directions","text":"<p>In recent years, the demand for more realistic and holistic risk assessment of pesticide, their more targeted use and integrated pest control has ever increased (eg, EU Green Deal, EU Farm-to-Fork, EC Biodiversity Strategy, EC Nature Restoration Law, UNEP, Endangered Species, Reduction of Pesticide Use (JRC), EC Protection of Bees, EC Integrated Pest Management, Mixture Toxicity). These are global trends and already ongoing implementations. Simultaneously, data availability has been increased whilst cost were reduced (eg, EEA Data Hub, EU Crop Cover, BDTOPO France, Biodiversity, Species Monitoring), especially with remote sensing and related data preparation workflows (eg Copernicus, Google Earth Engine, Drones). Computing ressources have been increased significanty. With effect modelling (eg, ModelLink, Good Modelling Practice) model  predictions have reached the level of species' populations and ecosystems. Accross topics and initiatives we increasingly see an open source culture.  </p> <p>Todays' demands for modelling systems range from scenario-based integrated landscape models up to digital twins (eg, BioDT, Destination Earth).  </p> <p> </p> <p>EU Digital Twin (DestinE), as an illustration for a vision to integrate data and models of different topics to build a new model to simulate real-world phenomenons for decision support. Individual contributions are made according to individual domain expertise. A loop of monitoring and modelling improves the system. </p> <p>Given the complexity of real-world systems, hence approaches, together with the range of disciplines needed, it is no longer advisable, nor justifiable, to try real-world (landscape) modelling in isolation - Collaboration is the paradigm. </p>"},{"location":"xLandscape/xLandscape-intro.html#today-applicable-landscape-models-needed","title":"today - applicable landscape models needed","text":"<p>Today, the landscape level has been established in pesticide RA throughout species groups (eg, aquatic, nta, bees, ntp, birds, mammals,endangered species) and global regions. This, either as an explicit RA level (eg, EFSA Aquatic Guidance, graphic below) or implicitely as to provide the real-world context for system behavious (eg, population recovery option EFSA Recovery Option). Beyond actual RA, this is accompanied by numerous research activities towards holistic RA in the regulatory scientific community (eg, global conference progams of the Society of Environmental Toxicology and Chemistry, SETAC).  </p> <p>Landscape modelling approaches are needed to address these demands. However, heterogeneous complex approaches for each and every study question are unlikely to succeed in the long run. An open, modular, and so collaborative approach seems more promising. </p> <p> </p> <p>EFSA Aquatic Guidance Tier4 landscape risk assessment level </p> <p>Experiance together with future directions (above) set the scene for making steps towards a next generation landscape modelling approach: </p> <p>General requirements and design principles: </p> <ol> <li>A modular approach that allows to integrate existing models into a landscape modelling context.  </li> <li>The integration assures (inner) data and information consistancy, making use of semantics.  </li> <li>Modules can be developed by everyone. External modules (the actual function-providing models) become integrated components using a wrapper.  </li> <li>A core implements the key landscape modelling functionality and semantics (not more). Modules interact with the core.  </li> <li>The composed landscape model appears to the user as any other model, ie it takes inputs (parameterisation, data) and generates outputs.  </li> <li>The implementation process is agile. It is driven by todays' demands (working product) whilst being adaptable in the frame of anticipated developments.  </li> </ol> <p>Landscape Modelling requirements and design principles:</p> <ol> <li>The landscape model works discrete (numeric). Its core dimensions are space and time. It is spatiotemporally explicit. </li> <li>Further modelling dimensions can be introduced by the modelled topics, eg, exposure (of different landscape entities) and effects (and their Specific Protection Goals dimensions, eg, biological entity and attributes).</li> <li>Landscape modelling comes with a strong spatial perception ('maps'). Spatial entities can be represented in any format (eg, raster, vector), scales and shape. Data extent is only limited by computing ressources. The model core, together with corresponding components (modules) inputs external data into inner data stores, which operates semantically-enriched and assures data consistency throughout consuming components. </li> <li>Likewise, the temporal dimension can use the units as needed to represent dynamics of the modelled systems. These can be different in the different components.</li> <li>Data for this multidimensional modelling are held in a multidimensional datastore. The technical representation is independent from the conceptual, ie different data store technologies can be used.</li> <li>The Landscape Model basically implements a Monte Carlo approach. This allows to propagate variabilities (uncertainties) of the natural system (eg, land use, PPP use, weather conditions) to variabilities of the outcome (eg, exposure, effects to organisms). </li> <li>The model works with Semantics to assure mutual 'understanding' of data and models. Semantics are stepwise implemented, starting with physical units, scales and metadata, and are developed up to the use of ontologies. </li> <li>The model is open to introduce new entities, scales and units.</li> <li>The design is based on Component Based Software Engineering (CBSE). The core is considered to work as a microkernel, the components represent the models that bring the actual functionality.</li> </ol> <p>further aspects:</p> <ol> <li>Given its fundamental context, the design of the Landscape Model has at least roots in pesticide risk assessment and risk management (decision support) and related topics like landscape biodiversity enhancements. It is build for use in the regulatory scientific community.  </li> <li>Components and their inner models (modules) can be data-driven, mechanistic or hybrid.  </li> <li>A common and easy to learn programming language is used for the implementation of the core and its functionality. Phyton was selected for this. However, components (moduls) can be implemented in basically any language (eg, C, C++, Go, netlogo). The same applies to core functionalities that might have specific needs, eg for speed or parallelisation.  </li> <li>A basic paradigm is scalability. Basically, the spatial and temporal extent of simulations shall not be limited by design, but only by given computing ressources.</li> <li>The development, use and work around a Landscape Model come with differnt roles. Roles have a specific purpose and require different skills, documentation, and traing. Thus, roles need an explicit awareness and definition: eg, 'Core Developer', 'Module Developer', 'Landscape Model Builder', 'Landscape Model User (expert, trained)', 'API Consumer'.</li> <li>During initial development phase, the Landscape Model usability mainly addresses the expert user, ie those who know the purpose, have experiance with modelling on a technical level (eg, understanding the meaning of a certain parameterisation, using xml). Of course, Graphical User Interfaces (eg, an Integrated Development Environment (IDE) for Landscape Model composition) and web-browser-based interaction (eg, for Landscape Model execution and analysis) is important and envisaged.</li> <li>The implementation shall make use of modern versioning and collaboration approaches and systems (eg, Github).</li> <li>The development shall not be done in isolation, but of open minded culture (agile). Whilst trying to get a working product, continued exchange with the communities and research on technologies facilitate adaptivity.</li> <li>The products basically persue an open source culture and paradigm. This applies eg, to the Landscape Model core xlandscape and the majority of components and Landscape Models (eg, xAquatic). However, due to insitutional licence policies some components might be open access, ie are open for use but without the source code of the actual model (eg, Cascade-Toxswa). Of course, the entire Landscape Modelling approach can be used for entirely internal and private developments. This allows hybrid Landscape Models for which some functionality can even get patented.  </li> <li>Last but not least: imagine you are about to develop a specific population model, say an amphibian model, for pesticide RA. Without a modular Landscape Modelling system you'll need to develop anything outside your model yourself, eg, landscape environmental and agricultural scenarios, PPP use, exposure and efate. With such an approach, you can make use of all data and components available, add specific needs (eg, a microclimate model) and focus on your key model development. This is what is called separation of concern.  </li> </ol> <p>Remark: Intense research and trials to work within existing systems (eg, working within GIS systems, close to big-data spatial databases (eg rasdaman), Almass, OpenMI, and a range of related approaches) all ended up in dead ends for the purposes and needs of our work in environmental risk assessment, risk management and the more generic fields (as outlined above). This is why we indentified the need for own developments.</p>"},{"location":"xLandscape/xLandscape-models.html","title":"xLandscape Models","text":""},{"location":"xLandscape/xLandscape-models.html#xaquatic-invertebrates","title":"xAquatic-Invertebrates","text":""},{"location":"xLandscape/xLandscape-models.html#xaquatic-plants","title":"xAquatic-Plants","text":""},{"location":"xLandscape/xLandscape-models.html#xofffieldsoil","title":"xOffFieldSoil","text":"<p>Ref.: A spatiotemporally explicit modeling approach for more realistic exposure and risk assessment of off-field soil organisms</p>"},{"location":"xLandscape/xLandscape-models.html#xpollinator","title":"xPollinator","text":""},{"location":"xLandscape/xLandscape-models.html#xtoxicload","title":"xToxicLoad","text":""},{"location":"xLandscape/xLandscape-models.html#xnttp","title":"xNTTP","text":""},{"location":"xLandscape/xLandscape-outlook.html","title":"Outlook","text":""},{"location":"xLandscape/xLandscape-outlook.html#integrated-development-environment","title":"Integrated Development Environment","text":"<p>(IDE)</p>"},{"location":"xLandscape/xLandscape-outlook.html#for-building-landscape-models","title":"for Building Landscape Models","text":"<ul> <li>visual composition of landscape models</li> </ul>"},{"location":"xLandscape/xLandscape-outlook.html#for-building-components","title":"for Building Components","text":"<ul> <li>codeless</li> </ul>"},{"location":"xLandscape/xLandscape-outlook.html#client-server-web-based-use","title":"Client-Server / Web-based Use","text":""},{"location":"xLandscape/xLandscape-outlook.html#version-2x","title":"Version 2.x","text":"<p>The design of version 1.x was influenced by the goal to combine existing models (often such established in regulatory RA) into a landscape-scale modelling composition. Since then, </p> <ul> <li>new smaller process models that integrate better into spatiotemporally explicit landscape-scale simulations</li> </ul>"},{"location":"xLandscape/xLandscape-outlook.html#cbse-adaptation","title":"CBSE Adaptation","text":""},{"location":"xLandscape/xLandscape-outlook.html#adapted-core-competencies","title":"Adapted Core Competencies","text":""},{"location":"xLandscape/xLandscape-parameterisation.html","title":"Parameterisation","text":""},{"location":"xLandscape/xLandscape-parameterisation.html#assign-parameters-to-parameter-level","title":"Assign Parameters to Parameter-level","text":""},{"location":"xLandscape/xLandscape-parameterisation.html#xrun","title":"xrun","text":""},{"location":"xLandscape/xLandscape-parameterisation.html#xml","title":"XML","text":""},{"location":"xLandscape/xLandscape-parameterisation.html#yaml","title":"YAML","text":""},{"location":"xLandscape/xLandscape-parameterisation.html#excel","title":"Excel","text":""},{"location":"xLandscape/xLandscape-references.html","title":"References","text":""},{"location":"xLandscape/xLandscape-references.html#publications","title":"Publications","text":"<p>Conference Contributions</p> <p>Schad 2013: xplicit xxx</p> <p>Schad, T. Schulz R, G\u00f6rlitz G, Neumann P. 2011. Xplicit - Concepts and Model Development for  Probabilistic Spatiotemporally Explicit Exposure and Risk Assessment (ERA) for Plant  Protection Products - Introduction and Example Study for Non-Target-Arthropods (NTA).  SETAC Europe 21st Annual Meeting, 15-19 May 2011, Milan, Italy. </p>"},{"location":"xLandscape/xLandscape-technology.html","title":"Technology","text":""},{"location":"xLandscape/xLandscape-technology.html#explicitness","title":"Explicitness","text":""},{"location":"xLandscape/xLandscape-technology.html#monte-carlo","title":"Monte Carlo","text":""},{"location":"xLandscape/xLandscape-technology.html#multidimensional-data-storage","title":"Multidimensional Data Storage","text":""},{"location":"xLandscape/xLandscape-technology.html#interfaces","title":"Interfaces","text":""},{"location":"xLandscape/xLandscape-v1x.html","title":"Version 1 - Summary","text":"<p>The first major release (version 1.x) implements key goals as summarised the Introduction. The design is based on Component-Base-Software-Engineering (CBSE). So, xLandscape is not a model but a framework to build models, with a core functionality for numeric, multidimensional landscape modelling.  </p> <p>xLandscape major entities:</p> <ol> <li>Core: inspired by microkernel architecture in CBSE context. Represents key features of the modular landscape modelling approach. Components are connected to the core and controlled by the core (necessary minimum). Provides a multidimensional data store. Organises model inputs.</li> <li>Components: colloquial the modules of the modular approach. Represent the actual funtionality of a landscape model. Can be quite simple (eg, estimation of water temperature from air) or quite complex (eg, calculating substance transport in streams). Technically precise, components are build from wrapping scientific models (called 'the module of a component').</li> <li>xLandscape Models: an applicable landscape model for a specific purpose. The composition of components and the core (Example xLandscape Models). </li> </ol> <p> </p> <p>Illustration of the xLandscape ecosystem: components, Core, Models, as well as 'Analysis&amp;Reporting Elements' </p> <p>xLandscape Characteristics:</p> <ol> <li>Numeric approach that works with discretised entities: time is discretised in time steps (any step possible, 'hour' and 'day' are typical in different processes). Spatial entities can be eg, vector polygons or raster cells. This makes xLandscape a spatiotemporally explicit model.</li> <li>Explicit scales: phenomenons like variability are assigned to specific scales. Eg, variability of spray-drift deposition might be observed on a field-scale. Likewise, explicit scales serve as important units in the analysis of landscape modelling outcome, eg. to provide endpoints that fit to the definition of Specific Protection Goals.</li> <li>Monte Carlo: variability (and uncertainty) are represented by Probability Density Functions (PDFs). This, together with the spatiotemporally explicit approach, provides the functionality to propagate variability of landscape processes, activities and dynamics to landscape model outputs.  </li> <li>Multidimensional data storage: Environmental characteristics, agriculture, PPP use, exposure, effects and their attributes, space and time, make xLandscape a multidimensional approach. These data are stored in a  multidimensional storage. Currently, the Hierarchical Data Format (HDF) is used. At the end of a xLandscape-based model simulation all data resides in the HDF store.</li> <li>Semantics: xLandscape introduces semantics to improve meaning of data. This is done in a stepwise way. Currently, values have a unit and scale assigned.</li> <li>Sequential processing: in version 1.x components are executed in a sequential order.</li> <li>'xcopy' distribution: an xLandscape-based model can be copied (downloaded) and used without installation. The xLandscape core comes with its Python environment and each component with their required runtime environment.</li> <li>Scalability: basically, the spatial and temporal extent, as well as other simulation characteristics (eg, the number and detail of endpoints) are only limited by computing ressources. Scaleability is a central requirement, also to the design of components. Ideally, processes should show a linear scaling behaviour. Besides actual landscape models build with xLandscape, the related analysis software need to cope with (large) raw data volumes typically generated.</li> <li>Scenarios: each specific model built with the xLandscape approach has its specific scenario requirements. As long as data requirements can be fulfilled, scenarios of any (global) region and any time period can be used as model input. Scenarios can be of any spatial shape. See also scenarios in the Glossary.</li> <li>Analysis- and Reporting Elements: example analysis code and outputs (eg, tables, graphics) are prepared. Typically, Jupyter notebooks are used, each focusing on a certain analysis topic.</li> </ol>"},{"location":"xLandscape/xLandscape-v1x.html#applicability","title":"Applicability","text":"<p>The application of xLandscape framework is not limited to its original key purpose for RA, ie to generate model results for RA endpoints (exposure, effects). xLandscape can be employed for modelling quite a large range of spatiotemporally phenomenon, eg, to model the spatiotemporally occurrence of bee forage (nectar, pollen), the use of pesticides in cultivated landscapes, the toxic loads of chemicals in landscapes, etc.</p>"},{"location":"xLandscape/xLandscape-v1x.html#programming-language","title":"Programming Language","text":"<p>The xLandscape core and components building software are written in Python. This language was choosen for its properties, popularity and ease to learn. However, compute demanding processes can be written in basically any language (eg, C, C++, Go) and be integrated as Python packages. The inner model of components can be written basically in any language. The component building process wraps such software, typically including the software (model) specific runtime environment. Development is versioned and currently done using Github (Github/xLandscape).</p>"},{"location":"xLandscape/xLandscape-v1x.html#core","title":"Core","text":"<p>The modular approach of xLandscape does not intend to loosely couple models. There is a 'framing' element necessary to represent characteristics that make a landscape model according to the use context, goals and requirements (see Intro). The 'core and component' design was inspired by microkernel architecture in Component-based Software Engineering (CBSE) context. Represents key features of the modular landscape modelling approach. Key core functionality and characteristics:</p> <ol> <li>The core provides the (Python) framework to build components (eg, interfaces for data exchange, data semantics, initialisation, control, component self-description, status request)</li> <li>The core provides the framework to build compositions, ie actual landscape models (currently implemented as XML)</li> <li>The core provides the framework for a 'semantic context' that enables operating with explicit entities (eg, scales) and assures inner landscape model data consistency</li> <li>The core provides the framework for operating with multidimensional data</li> <li>The core provides functionality for landscape simulation control, status observer, ressources and logging</li> <li>The core provides functionality for reading the parameterisation and configuration of a Landscape Model as defined by the user</li> </ol> <p>This is illustrated as the blue 'L' together with the light blue background in xLandscape model schemes:  </p> <p> </p> <p>xlandscape core illustration</p>"},{"location":"xLandscape/xLandscape-v1x.html#components","title":"Components","text":"<p>Essentially all functionality is represented by components. Components are initiated by and operated in the framework of the core. A composition of the core and components make a Landscape Model. Components can contain and represent basically any simulation model, eg,</p> <ul> <li>(Large) Mechanistic models, eg, simulating substance exposure, fate and effects (eg, PRZM, PEARL, Macro, Cascade-Toxswa, GUTS, Mastep, Streamcom)</li> <li>Data-driven models, eg, representing variability of spray-drift deposition (eg, xDrift, AgDrift), results from ecotoxicologial studies (eg, Dose-response, Species Sensitivity Distributions, Toxic-Load), or lookup tables (eg, bee forage production by vegetation and time)</li> <li>Hybrid models, eg, for simulating residues of substances in plants and commodities</li> <li>Models simulating agricultural management, eg, PPP use (eg, xCropProtection)</li> <li>Small calculations, eg for modelling specific environmental conditions (eg, sunshine hours, water temperature)</li> <li>(Geo)data inputs: external data is imported into a Landscape Model using specific components, eg, weather, land use, or soil data. Besides such explicit data inputs. This applies, eg, when complex mechanistic models bring some default settings with them which are loaded using text-files.</li> <li>Analysis: when a simulation is done it might be nice to see some analysis automatically. So, components can be build and integrated into a Landscape Model for analysis purposes</li> </ul> <p>Colloquially, we might call the pieces of a modular Landscape Model modules, eg say 'xDrift is a module in the xAquatic landscape model', or 'in which repository can I find the module for PPP use?'. However, following the terminology of Component-Based-Software-Engineering (CBSE), we need to be more precise and talk about components. A component contains a model which is also called a module. Models (modules) represent the actual functionality. A model (module) becomes a xLandscape component when it is wrapped using the xLandscape core framework.</p> <p>The graphic below shows the design of a component:  </p> <p> </p> <p>Component 'Stream_Temperature' representing a model to estimate stream temperature (T_stream) from air temperature (T_air). (a blue background indicates connection to an internal source (semantically enriched), whereas a grey background represents connection to external sources; the diamond represents the actual model ('module'))</p> <p>A component has the following elements: </p> <ol> <li>Input: the data input to be processed by the component. Inputs can be connected to external data sources (eg, files, data bases, APIs) (grey background) or to the internal multidimensional store (blue background)</li> <li>Init/Control: inputs for the initialisation and control of a component and its module (model). Init/Control can come from  external data sources (eg, xml/text files) (grey background) or from the internal multidimensional store (blue background)</li> <li>Output: the data output of a component. Outputs are typically written to the internal multidimensional store (blue background) yet, can also be written to external data storages (eg, Relational Database Management Systems, files, cloud storage) (grey background)</li> <li>Module (model): the actual model (module) that provides the functionality, ie, conducts the simulation (blue diamond element)</li> </ol> <p>All internal data (information) is semantically-enriched (see Semantics). Components typically have multiple in- and outputs. Example components are introduced in section Components.  </p>"},{"location":"xLandscape/xLandscape-v1x.html#landscape-model-composition","title":"Landscape Model Composition","text":"<p>A composition of components and the core builds a landscape model. Example Landscape Models built are xAquatic, to simulate exposure and effects of aquatic organisms in catchments, xOff-Field-Soil, to calculate exposure of soil organisms living next to fields, or xPollinator to simulate nectar and pollen occurrence for building bee modelling scenarios.</p> <p>The graphic below shows the composition of a very simple Landscape Model that inputs a stream network, together with weather data, in order to calculate stream temperature:</p> <ul> <li>The model is built using 2 components: 'Weather_MARS' inputs (external) weather data (from the EU 'MARS' database) and writes defined data (eg, air temperature, T_air) into the landscape model storage, whereas component 'Stream_Temperature' takes T_air from the store and transfers this to an estimated stream temperature (T_stream) using a model.</li> <li>The blue 'L' represents the xLandscape core. The light blue rectancle-shaped background represents the semantically-enriched space of this specific model (eg, T_air is defined with a unit and assigned spatial and temporal scales; T_air is consistantly available to all components of the model).</li> <li>The Landscape Model is parameterised and configured using XML and YAML files (eg, to define the landscape scenario and simulation time period; grey box)</li> <li>Typical landscape model input data (green box) comprises land use/cover, weather, habitats and pesticide use, yet, depends on the landscape model.</li> <li>The Data Storage contains all data defined by the landscape model designer, as relevant to the landscape model application (inputs, interim, and model outputs). Thus, the Data Storage can be recognised as representing 'the landscape' from the view of the model purpose. Eg, xAquatic stores data on land use, weather, hydrology, PPP use, stream exposure and effects on aquatic invertegrates, whereas xPollinator outputs stores nectar and pollen occurrence by space and time. The Data Storage is multidimensional. </li> </ul> <p> </p> <p>Illustration of a simple Landscape Model, built from 2 components (Weather_MARS, Stream_Temperature) and the xlandscape core</p>"},{"location":"xLandscape/xLandscape-v1x.html#propagation-of-variability","title":"Propagation of Variability","text":"<p>Taking the protection of species' populations in cultivated landscapes as an example topic for xLandscape, from the use of PPPs in landscapes to the exposure pattern of non-target-organisms many processes and phenomenons come with a range of variabilities (eg, weather conditions, land use/cover dynamics, agricultural management and PPP use, species occurrence and behaviour, etc.).  </p> <p>xLandscape basically 'resolves' such variabilities by discretisation, ie by making things explicit (this is, what the suffix 'x' represents). Eg, the actually continuous (simulation) time is discretised into time steps (of any interval, often [day] or [hour]), spatial entities are discretised using resolutions depending on the individual process (eg, [1m2] for local spray-drift exposure, [100m] segments of stream networks). However, explicitness alone is not a sufficient means to represent natural variability of phenomenons, events and processes, of natural systems, eg, an explicit representation of land use (in space and time) requires that land use is deterministically know for the simulation region and the simulation period (eg use satellite classification). This is often not the case and only general knowledge is available (eg, statistical data and crop cultivation and rotation). Even if full deterministic data is available for a phenomenon (eg, for weather representation by using long-term records) the purpose of a landscape simulation might require to go beyond actual data and consider situations (eg, extremes) which are not part of an actual record. This is a typical situation in regulatory risk assessment where the range of conditions that might happen has to be considered in order for the (prospective) decision making to cover these. This is where the use of distributions comes in. In xLandscape, variability can be represented as Probability Density Functions (PDFs). Examples for using PDFs are wind direction distributions, PPP application windows and application rates, local spray-drift depositions in the (xDrift) component or drift-filtering by riparian vegetation. The scope of validity of a PDF and its elements have to be defined, eg, a weather conditions representing PDF might be valid for a certain geographic regions and a certain time period, it's elements might be valid for a certain day. Thus, samples drawn from this PDF are associated to the scales [region,day]. Irrespective which component asks for weather conditions, the result should be the same for the same region and day, but different for different regions and/or days (corresponding to the random sample of the PDF). This mechanism of scale-dependent definition and use of PDFs enables to build a Monte Carlo approach that generates naturally occuring pattern of the simulated agro-environmental system. In other words, real-world variability comes with pattern, ie, is not just random (an overly simple, independently sampling Monte Carlo approach would just generate chaotic situations).  </p> <p> </p> <p>Propagation of landscape agro-environmental system variability to variability of model predictions</p> <p> </p> <p>Real-world variability has structure, ie, comes with pattern</p>"},{"location":"xLandscape/xLandscape-v1x.html#components-modules-and-models","title":"Components, Modules and Models","text":"<p>You will read the term component quite often in the context of xLandscape. xLandscape is a modular landscape modelling framework that architecture is derived from Component-Based Software Engineering (CBSE). This is, why the elements of a modular xLandscape model are called components (xDrift is an example for a frequently used component). Components contain moduls. Modules represent the software that provides the actual functionality of a component, typically a model (eg, an exposure or environmental fate model).  </p>"},{"location":"xLandscape/xLandscape-v1x.html#multidimensional-data-store","title":"Multidimensional Data Store","text":"<p>Landscape models based on xLandscape is at minimum 3-dimensional (space, time, modelled value). Typically, landscape modelling is using and interested in multiple values in space and time (eg, exposure of different compartments, multiple PPP uses, effects of different species), which makes it a multidimensional landscape model. Corresponding multidimentsional data is stored using a multidimensional data store. At present, HDF is being used. All landscape model data as defined by the model designer is stored in an HDF store (basically, the in- and outputs of components). Data in the store can come in independent resolutions (eg, PPP use might be represented by the spatial scale field, whereas local exposure of off-field areas might be calculated and stored by m2 as spatial scale). The same applies to any other dimension and scale. As the multidimensional store contains the data relevant to the specific landscape model, it represents 'the landscape' of the model. Thus, 'the landscape' is built of such data/information that is defined by model design (and configuration). In particular, the store contains the actual model outcome, yet, also any other data is kept as defined by the model designer that might be of interest for the analysis. At present, a single data store is being used. This, and the technology HDF can be adapted according to future needs.  </p> <p> </p> <p>Multidimensional Data Store is implemented in the xAquatic landscape model</p>"},{"location":"xLandscape/xLandscape-v1x.html#relational-data-representation","title":"Relational Data Representation","text":"<p>With the key aim to facilitate model outcome analysis using common data access technologies, a component (xSQLite) is available that exports defined data from the HDF to SQLite database. Further data exports are under development.  </p>"},{"location":"xLandscape/xLandscape-v1x.html#sequential-processing","title":"Sequential Processing","text":"<p>At version 1.x, xLandscape has a linear processing sequence. Eg, in a given (or modelled) land use the farmer applies PPPs. These PPPs cause exposure which is subject to substance environmental fate (eg, degradation, distribution). The exposure might cause effects to non-target-organisms. This sequence matches natural causality in a majority of landscape modelling applications, in particular in pesticide risk assessment. However, future demands for landscape modelling might lead to increased autonomy of components' operation. This sequence is defined in the model configuration file (currently the mc.xml) in the landscape model design phase. Thus, there are no feedback loops from subsequent components to predecessors.  </p> <p> </p> <p>Example sequential processing in xAquatic (2022)</p>"},{"location":"xLandscape/xLandscape-v1x.html#semantics","title":"Semantics","text":"<p>When building larger models from individual components, these components need to have a correct 'understanding' of the data/information they exchange. The meaning of values exchanged in inputs and outputs of components need to be clearly described. The goal in xLandscape is that components 'understand' each other on a machine-level, ie, without any human interference. This level of semantic representation can be reached using ontologies. In any case, data/information need to be sufficiently documented and described (metadata).  </p> <p>The implementation towards this goal is stepwise: - Current version: values have units, explicit scales; in the landscape model design phase, module developer might need to communicate to clarify semantics. - Next: apply ontolgies</p>"},{"location":"xLandscape/xLandscape-v1x.html#model-input-geodata","title":"Model Input (Geo)Data","text":"<p>Input data is specific to the actual landscape model built with the xLandscape framework. Basically, input data are read by individual components and transferred into the Multidimensional Store. In this process the data get's semantically enriched. All components then consistently use the same data, eg, environmental or landuse data.  Data typically come in their native format, eg, geodata as shapefiles, weather data as textfiles or database tables, etc.  </p>"},{"location":"xLandscape/xLandscape-v1x.html#model-output","title":"Model Output","text":"<p>At present, modelling outcome of landscape models built using the xLandscape framework are stored in a (multidimensional) HDF Store. Common data analysis software and programming languages provide interfaces to HDF. In addition, components are available and being developed that enable export of data that resides in the HDF store to common data formates (eg, SQLite, other relational databases, csv, or excel).</p>"},{"location":"xLandscape/xLandscape-v1x.html#analysis","title":"Analysis","text":"<p>Landscape model outcome can be analysed using common analysis software package or own developed processes. Typically, landscape models built on the basis of xLandscape contain analysis components that process raw model outcome and provide first insights into the results of an experiment.  </p> <p>Jupyter notebooks (using Python) are used as a means for data analysis. Templates are provided in corresponding Github repositories. Dashboards provide an ideal means to derive insights.</p>"},{"location":"xLandscape/xLandscape-v1x.html#development-and-user-level","title":"Development and User Level","text":"<p>Typically, landscape models developed built using the xLandscape framework address an expert user level, like any other model used in the regulatory scientific field (eg, FOCUS exposure models, effect models). However, irrespective of their complexity, these landscape models can be operated in the background (eg, on a back-end server) and only their key outcome displayed or integrated at a user front-end level (like a simple weather forecast is derived from complex weather models).</p> <p>Differentiation of developer levels are shown in the graphic below.</p> <p> </p> <p>Development and User Levels</p>"},{"location":"xLandscape/xLandscape-v1x.html#technical-implementation","title":"Technical Implementation","text":"<p>The xLandscape core is written in Python, hence, building components is done in Python as well. The actual modules, ie, the models within components that provide the actual modelling functionality of a component can be written in any language.  </p> <p>Code documentation can be found in the corresponding Github repository (eg, https://github.com/xlandscape).</p>"},{"location":"xToxicLoad/xToxicLoad-intro.html","title":"xToxicLoad","text":"<p>xToxicLoad is a Landscape Model that calculates simple toxic load values of pesticides by field and time step (typically by day). A toxic load represents the multiple of an effect (on a field, at a certain time). It is calculated by deviding the exposure by a defined ecotoxicological endpoint: eg, ToxicLoad(x,t) = PEC(x,t) / LD50. In the example an LD50 is used, however, the ecotox endpoint can be any of interest. A LD50, eg, might represent an oral or contact bee ecotox endpoint.</p>"},{"location":"xToxicLoad/xToxicLoad-intro.html#background","title":"Background","text":"<p>At present, intended for demonstration purposes, </p>"},{"location":"xToxicLoad/xToxicLoad-intro.html#installation","title":"Installation","text":"<p>To clone the xToxicLoad repository, you must have access to the private repository. Contact Sascha Bub (sascha.bub@rptu.de) or Thorsten Schad (thorsten.schad@bayer.com) for access to the repository. Cloning steps vary based on application.</p> <ul> <li>Sourcetree</li> <li>Visual Studio Code</li> </ul> <p>The following shows what the folder structure should look like when the cloning process has completed:</p> <pre><code>\u251c\u2500\u2500 analysis\n\u2502   \u251c\u2500\u2500 product-and-type.xlsx\n\u2502   \u251c\u2500\u2500 xCP-movie.ipynb\n\u2502   \u251c\u2500\u2500 xCP-plot-application-rate-uc4.ipynb\n\u2502   \u251c\u2500\u2500 xCP-total-loading-uc4.ipynb\n\u2502   \u251c\u2500\u2500 xCP-write-csv.ipynb\n\u2502   \u251c\u2500\u2500 xTL-movie-contact-toxicity.ipynb\n\u2502   \u251c\u2500\u2500 xTL-movie-oral-toxicity.ipynb\n\u2502   \u2514\u2500\u2500 xTL-plot-toxic-load.ipynb\n\u251c\u2500\u2500 chemical\n\u2502   \u251c\u2500\u2500 Substance and product properties - test1.xlsx\n\u2502   \u251c\u2500\u2500 Insecticides.xlsx\n\u2502   \u2514\u2500\u2500 product-active-substance.db\n\u251c\u2500\u2500 crop_protection\n\u2502   \u251c\u2500\u2500 PPMCalendars\n\u2502   \u2502   \u2514\u2500\u2500 Multiple folders of PPM Calendars\n\u2502   \u251c\u2500\u2500 PPMCalendar-222.xml\n\u2502   \u251c\u2500\u2500 PPMCalendar-444.xml\n\u2502   \u251c\u2500\u2500 xCropProtection-Arnsberg.xml\n\u2502   \u251c\u2500\u2500 xCropProtection-Detmold.xml\n\u2502   \u251c\u2500\u2500 xCropProtection-Duesseldorf.xml\n\u2502   \u251c\u2500\u2500 xCropProtection-Koeln.xml\n\u2502   \u251c\u2500\u2500 xCropProtection-Muenster.xml\n\u2502   \u251c\u2500\u2500 Technologies.xml\n\u2502   \u2514\u2500\u2500 test1.xml\n\u251c\u2500\u2500 model\n\u2502   \u251c\u2500\u2500 core\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u251c\u2500\u2500 variant\n\u2502   \u2502   \u251c\u2500\u2500 experiment.xml\n\u2502   \u2502   \u251c\u2500\u2500 mc.xml\n\u2502   \u2502   \u251c\u2500\u2500 package.xsd\n\u2502   \u2502   \u2514\u2500\u2500 parameters.json\n\u251c\u2500\u2500 run\n\u251c\u2500\u2500 scenario\n\u2502   \u251c\u2500\u2500 Rummen-xToxicLoad-Test\n\u2502   \u2502   \u251c\u2500\u2500 geo\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 (multiple shp files)\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 package.xinfo\n\u2502   \u2502   \u2514\u2500\u2500 scenario.xproject\n\u2502   \u251c\u2500\u2500 Arnsberg\n\u2502   \u251c\u2500\u2500 Detmold\n\u2502   \u251c\u2500\u2500 Duesseldorf\n\u2502   \u251c\u2500\u2500 Koeln\n\u2502   \u251c\u2500\u2500 Muenster\n\u251c\u2500\u2500 .gitignore\n\u251c\u2500\u2500 .gitmodules\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 __start__.bat\n\u251c\u2500\u2500 template.xrun\n\u251c\u2500\u2500 Arnsberg.xrun\n\u251c\u2500\u2500 Detmold.xrun\n\u251c\u2500\u2500 Duesseldorf.xrun\n\u251c\u2500\u2500 Koeln.xrun\n\u2514\u2500\u2500 Muenster.xrun\n</code></pre>"},{"location":"xToxicLoad/xToxicLoad-intro.html#xtoxicload-components","title":"xToxicLoad components","text":"<p>xToxicLoad makes use of multiple other components during a simulation run. </p>"},{"location":"xToxicLoad/xToxicLoad-intro.html#landscape-scenario","title":"Landscape scenario","text":"<p>This component is used to ingest geospatial input and provide geospatial data to the Landscape Model. The parameterization for this component is located in the package.xinfo file, where shapefile name and column definitions can be modified.</p> <p>See xLandscape for more details on parameterization and component input/output.</p>"},{"location":"xToxicLoad/xToxicLoad-intro.html#product-and-substance-properties","title":"Product and substance properties","text":"<p>This component is used to read chemical properties located in the substance and product properties table (located in xToxicLoad/chemical). User-defined properties and chemical names included in the output of an xToxicLoad simulation.</p>"},{"location":"xToxicLoad/xToxicLoad-intro.html#xcropprotection","title":"xCropProtection","text":"<p>xCropProtection uses the LandscapeScenario component to generate application dates and rates of substances defined in PPM Calendars. PPM Calendars define what products are used during a simulation, with restrictions on what fields, crop types, and dates applications can occur. To introduce variability, probability distribution functions and choices between multiple products can be implemented. The output of xCropProtection is a list of product applications with information about what product was applied and about the application itself.</p> <p>See the xCropProtection documentation for a detailed explanation of how xCropProtection works and example scenarios.</p>"},{"location":"xToxicLoad/xToxicLoad-intro.html#in-field-exposure","title":"In field exposure","text":"<p>This component is used to calculate the in-field exposure of substances on a daily basis. It is used as an intermediary step between xCropProtection and xToxicLoad to calcualte PEC values on a daily and field-wise scale. The output of this component is a 3-dimensional array of PEC values.</p>"},{"location":"xToxicLoad/xToxicLoad-output.html","title":"xToxicLoad output","text":""},{"location":"xToxicLoad/xToxicLoad-output.html#xtoxicload-output_1","title":"xToxicLoad output","text":"<p>This page will describe the structure and content of xToxicLoad's output. xToxicLoad provides the results of a run in an hdf5 (Hierarchical Data Format version 5) file format. This file type can be viewed with a program such as HDFView.</p>"},{"location":"xToxicLoad/xToxicLoad-output.html#general-structure","title":"General structure","text":"<p>The output of xToxicLoad follows the dataset structure as seen in the image above; each of these 6 directories are the result of a module that is run during xToxicLoad. They are discussed here in the order in which they are run.</p>"},{"location":"xToxicLoad/xToxicLoad-output.html#landscapescenario","title":"LandscapeScenario","text":"<p>This directory contains information about the landscape used in the scenario. The FeatureIds, FeatureTypeIds, and Geometries datasets can be used to link a field with its LULC type and geometry. An example using sample information is shown below:</p> Index FeatureIds FeatureTypeIds Geometries 0 1206033332 222 [0,0,0,0,3,...] 1 928259482 222 [0,0,0,0,3,...] 2 748887688 222 [0,0,0,0,3,...] 3 431716987 222 [0,0,0,0,3,...] 4 925529136 222 [0,0,0,0,3,...]"},{"location":"xToxicLoad/xToxicLoad-output.html#substanceproperties","title":"SubstanceProperties","text":"<p>The substance properties directory holds information parsed from the substance and product properties Excel file. Each column defined in the properties sheet will generate a dataset in this directory. In this screenshot, ContactLD50, OralLD50, and DT50 were all columns added to the properties sheet. The units defined for each column are also included in these datasets.</p> <p>The sub-datasets in this dataset will differ depending on the columns defined in the substance and product properties Excel file located in the chemical folder.</p>"},{"location":"xToxicLoad/xToxicLoad-output.html#cropprotection","title":"CropProtection","text":"<p>This directory contains the output of xCropProtection using the parameterization from template.xrun.</p> <ul> <li>ApplicationDates: The day that each application occurs, represented in days since 01/01/0001.</li> <li>ApplicationRates: The application rate of each application.</li> <li>AppliedAreas: The actual area applied, taking into account in-crop buffers and in-field margins.</li> <li>AppliedFields: The field ids of each application.</li> <li>AppliedPPP: The product or substance applied for each application.</li> <li>ParametrizationNamespace: The namespace of the parameterization files (ex: urn:xCropProtectionLandscapeScenarioParametrization)</li> <li>RandomSeed: The random seed used in the simulation (defaults to 0).</li> <li>SimulationEnd: The end date of the simulation, in the format YYYY-MM-DD.</li> <li>SimulationStart: The start date of the simulation, in the format YYYY-MM-DD.</li> <li>TechnolgyDriftReductions: The drift reduction values of the technology for each application.</li> <li>xCropProtectionFilePath: The file path of the xCropProtection.xml which contains the PPM Calendar and Technology information.</li> </ul>"},{"location":"xToxicLoad/xToxicLoad-output.html#infieldexposure","title":"InFieldExposure","text":"<p>This directory includes PEC values for each of the chemicals defined in SubstanceProperties. The Pec dataset is formatted as a three-dimensional array. The image below shows the structure with placeholder values:</p> <p></p> <p>Each column index represents the number of elapsed days since the SimulationStart value. A slice of a single column represents PEC values for all fields and all substances on a single day.</p> <p>Each row index represents a unique field. Note that the index is not the feature ID, but the index of a field can be used to retrieve its feature ID in the LandscapeScenario directory. A slice of a single row represents PEC values for the whole simulation and all substances for a single field.</p> <p>Each page represents a different chemical. A slice of a single page represents PEC values for the whole simulation for all fields for a single chemical.</p>"},{"location":"xToxicLoad/xToxicLoad-output.html#toxicload","title":"ToxicLoad","text":"<p>This directory contains the calculations for toxic load. The results are structured in the same way as the PEC values:</p> <p></p> <p>Each cell represents the oral toxic load of a chemcial on one field on one day.</p>"},{"location":"xToxicLoad/xToxicLoad-parameterization.html","title":"xToxicLoad parameterization","text":"<p>This page describes all files needed to parameterize and run xToxicLoad. Additionally, a guide to creating new scenarios is provided.</p> <p>Scenario creation guide</p>"},{"location":"xToxicLoad/xToxicLoad-parameterization.html#templatexrun","title":"template.xrun","text":"<p>In xToxicLoad, the user parameterization file is located in the root folder (xToxicLoad) with the .xrun file extension. This file can be written in XML or YAML.</p>"},{"location":"xToxicLoad/xToxicLoad-parameterization.html#yaml","title":"YAML","text":"<p>YAML is a human-friendly data serialization language that works well for configuration files. A sample YAML configuration file is shown below:</p> template.xrun<pre><code># $schema: ./model/variant/parameters.json\nProject: scenario/Rummen-xToxicLoad-Test\nSimID: xToxicLoad-Test\nSimulationStart: 2020-01-01\nSimulationEnd: 2022-12-31\nCropProtectionScenario: test-xToxicLoad\nSubstanceAndProductProperties: Substance and product properties - test1\nNumberMC: 1\nParallelProcesses: 1\n</code></pre> <p>The schema for this file is located in the xToxicLoad/model/variant folder and describes the constraints for each key/value pair (in this file a key/value pair is two strings of text separated by a colon).</p>"},{"location":"xToxicLoad/xToxicLoad-parameterization.html#xml","title":"XML","text":"<p>Here, the XML language is used to construct and transmit data to the xToxicLoad component. A sample XML configuration file is shown below (all comments removed):</p> template.xrun<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;Parameters&gt;\n  &lt;Modeller&gt;abc&lt;/Modeller&gt;\n  &lt;Project&gt;scenario/Rummen-xToxicLoad-Test&lt;/Project&gt;\n  &lt;CropProtectionScenario&gt;xCropProtection-Rummen&lt;/CropProtectionScenario&gt;\n  &lt;ProductDatabase&gt;CropProtection/product-database.db&lt;/ProductDatabase&gt;\n  &lt;SimulationStart&gt;2021-01-01&lt;/SimulationStart&gt;\n  &lt;SimulationEnd&gt;2021-12-31&lt;/SimulationEnd&gt;\n  &lt;SimID&gt;xToxicLoad-Test&lt;/SimID&gt;\n  &lt;NumberMC&gt;1&lt;/NumberMC&gt;\n  &lt;ParallelProcesses&gt;1&lt;/ParallelProcesses&gt;\n&lt;/Parameters&gt;\n</code></pre> <p>Template.xrun files included in the xToxicLoad repository contain comments describing the constraints and purpose of each XML element.</p>"},{"location":"xToxicLoad/xToxicLoad-parameterization.html#mcxml","title":"mc.xml","text":"<p>This file structures information for each Monte Carlo run of xToxicLoad, and most information in this file should not be modified. However, xToxicLoad currently defines two xCropProtection parameters in this file: <code>OutputApplicationType</code> and <code>ProductDatabase</code>.</p> <p><code>OutputApplicationType</code> sets the output type of xCropProtection to either product or active substance and <code>ProductDatabase</code> provides the file path to the SQLite database containing product formulation information.</p> <p>Note the different combinations of input (specified in PPM Calendars) and <code>OutputApplicationType</code>.</p> <pre><code>input product           -&gt; output product           : valid\ninput product           -&gt; output product           : valid\ninput active substance  -&gt; output active substance  : valid\ninput active substance  -&gt; output product           : invalid\n</code></pre> <p>This file also defines which columns in the substance and product properties table will be used in the xToxicLoad component.</p> <pre><code>&lt;ToxicLoad module=\"components\" class=\"ToxicLoad\"&gt;\n    &lt;Pec&gt;\n        &lt;FromOutput component=\"InFieldExposure\" output=\"Pec\"/&gt;\n    &lt;/Pec&gt;\n    &lt;LD50&gt;\n        &lt;FromOutput component=\"SubstanceProperties\" output=\"Endpoint\"/&gt;\n    &lt;/LD50&gt;\n&lt;/ToxicLoad&gt;\n</code></pre> <p>The name of the column defined in the output attribute of <code>FromOutput</code> will be used to calculate the LD50. Only one column name (in one <code>FromOutput</code> element) should be defined in the LD50 element.</p>"},{"location":"xToxicLoad/xToxicLoad-parameterization.html#substance-and-product-propertiesxlsx","title":"Substance and product properties.xlsx","text":"<p>The substance and product properties file contains phisio-chemial and ecotoxicity properties for substances.</p> <p>The description sheet holds metadata and organizational information about the file including the name, version, schema version, date last modified, author name, scale, and file description. The version and date attributes should be updated whenever there are changes to the substance and product properties file.</p> <p>The columns sheet defines the name, data type, unit, and description for each column in the properties sheet. Removing, adding, or modifying rows in this sheet will change column requirements and attributes in the properties sheet. The Data type and Unit columns must be populated for any new rows added.</p> <p></p> <p>The properties sheet contains the ecotoxicity properties for each substance. The columns defined in the columns sheet must be present in this sheet, and they must also conform to the data type defined. Cells can be left blank (excluding the Element name); xToxicLoad will handle blank cells by producing <code>Null</code> values for those substances. <code>Null</code> values can then be filtered out in post-processing of the output file.</p>"},{"location":"xToxicLoad/xToxicLoad-parameterization.html#xcropprotectionxml","title":"xCropProtection.xml","text":"<p>xCropProtection parameterization is an important part of xToxicLoad, because xToxicLoad directly uses the results of xCropProtection. Detailed xCropProtection parameterization instructions can be found in the scenarios section of this documentation.</p>"},{"location":"xToxicLoad/xToxicLoad-parameterization.html#landscape-scenario","title":"Landscape scenario","text":"<p>To run xToxicLoad, a scenario must be created in the xToxicLoad/scenario folder. There are 2 elements required for an xToxicLoad scenario: a geo folder and a scenario.xproject file.</p> <p>The scenario/geo folder must contain a shapefile that will be used as input to the Landscape scenario component. The folder should contain at least the shapefile's main file (LULC.shp), index file (LULC.shx), and dBASE table (LULC.dbf). Other files such as CPG and PRJ files may be included to assist others when opening the shapefile in a GIS software.</p> <p>The scenario/geo folder must also contain a package.xinfo file which defines the name of the shapefile and which columns should be used as input to the Landscape scenario component.</p> <p>The scenario.xproject file contains metadata about the scenario and tracks changes across versions. If changes are made to the files in the scenario/geo folder, this file should be updated with a new version and changelog.</p>"},{"location":"xToxicLoad/xToxicLoad-parameterization.html#steps-to-create-a-new-scenario","title":"Steps to create a new scenario","text":"<p>The following steps will provide a walkthrough on how to create a completely new scenario. Any text in all capital letters, e.g., SCENARIO_NAME, LULC.shp, is used as placeholder text and should be changed to more specific values when creating a scenario.</p> <ol> <li>In the xToxicLoad/scenario folder, create a new folder named SCENARIO_NAME. This folder will hold spatial data for the new scenario. In the newly created folder, do the following:<ol> <li>Create a scenario.xproject file and add the following text, replacing placeholder text where noted: scenario.xproject<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;Project\n    xmlns=\"urn:xLandscapeModelScenarioInfo\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"urn:xLandscapeModelScenarioInfo ../../model/core/base/scenario.xsd\"&gt;\n    &lt;Name&gt;SCENARIO_NAME&lt;/Name&gt;\n    &lt;Version&gt;1.0&lt;/Version&gt;\n    &lt;SupportedRuntimeVersions&gt;\n        &lt;Version variant=\"xToxicLoad\" number=\"0.1\"/&gt;\n    &lt;/SupportedRuntimeVersions&gt;\n    &lt;Description&gt;SCENARIO DESCRIPTION.&lt;/Description&gt;\n    &lt;TemporalExtent&gt;\n        &lt;FromDate&gt;yyyy-mm-dd&lt;/FromDate&gt;\n        &lt;ToDate&gt;yyyy-mm-dd&lt;/ToDate&gt;\n    &lt;/TemporalExtent&gt;\n    &lt;Changelog&gt;\n        &lt;Version number=\"1.0\" date=\"yyyy-mm-dd\"&gt;\n            &lt;Addition author=\"NAME\"&gt;Scenario created.&lt;/Addition&gt;\n        &lt;/Version&gt;\n    &lt;/Changelog&gt;\n    &lt;Content&gt;\n        &lt;Item name=\"LandscapeScenario\" target=\"geo/package.xinfo\" version=\"1.0\" /&gt;\n    &lt;/Content&gt;\n    &lt;Contacts&gt;\n        &lt;Contact&gt;NAME - EMAIL&lt;/Contact&gt;\n    &lt;/Contacts&gt;\n&lt;/Project&gt;\n</code></pre> Use an XML editor to help ensure proper formatting of elements, and make sure that the <code>xsi:schemaLocation</code> points to the xLandscapeModelScenarioInfo schema located in the model/core/base folder.</li> <li>Create a folder in the xToxicLoad/scenario/SCENARIO_NAME folder named geo. In the geo folder, add Shapefiles which will be used as input to the components. At a minimum, the Shapefile's main file (LULC.shp), index file (LULC.shx), and dBASE table (LULC.dbf) must be included.</li> <li>In the xToxicLoad/scenario/SCENARIO_NAME/geo folder, create a package.xinfo file. Use the following text to start and modify elements where necessary: package.xinfo<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;landscape_package \n    xmlns=\"urn:LandscapeScenarioGeoPackage\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n    xsi:schemaLocation=\"urn:LandscapeScenarioGeoPackage ../../../model/variant/package.xsd\"&gt;\n    &lt;meta&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n        &lt;target_type&gt;100&lt;/target_type&gt;\n        &lt;habitat_types&gt;200&lt;/habitat_types&gt;\n    &lt;/meta&gt;\n    &lt;base&gt;\n        &lt;base_landscape_geometries&gt;LULC.shp&lt;/base_landscape_geometries&gt;\n        &lt;feature_id_attribute&gt;ALVID&lt;/feature_id_attribute&gt;\n        &lt;feature_type_attribute&gt;LULC_TYPE_ID&lt;/feature_type_attribute&gt;\n        &lt;additional_attributes/&gt;\n    &lt;/base&gt;\n    &lt;supplementary/&gt;\n    &lt;supplementary_shapefiles/&gt;\n&lt;/landscape_package&gt;\n</code></pre> The <code>base_landscape_geometries</code> element defines the Shapefile name (including the .shp extension). The <code>feature_id_attribute</code> element defines the name of the field that defines each feature's ID. The <code>feature_type_attribute</code> element defines the field of the Shapefile which specifies a field/feature's LULC type. The TargetCrops value in PPMCalendar.xml refers to the field defined in <code>feature_type_attribute</code>.</li> <li>The SCENARIO_NAME folder setup is complete; the following is an example of the folder stucture. <pre><code>\u251c\u2500\u2500 scenario\n\u2502   \u251c\u2500\u2500 SCENARIO_NAME\n\u2502   \u2502   \u251c\u2500\u2500 geo\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 LULC.shp\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 LULC.shx\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 LULC.dbf\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 package.xinfo\n\u2502   \u2502   \u2514\u2500\u2500 scenario.xproject\n</code></pre></li> </ol> </li> <li>In the xToxicLoad/crop_protection/PPMCalendars folder, create a folder named SCENARIO_NAME. Add all xCropProtection PPM Calendars that the new scenario will use. For more information about creating xCropProtection PPM Calendars, see the templates pages.</li> <li>In the xToxicLoad/crop_protection folder, create an XML file named Technologies_SCENARIO.xml using the following as an example of structure: Technologies_SCENARIO.xml<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Technologies xmlns=\"urn:xCropProtectionLandscapeScenarioParametrization\"&gt;\n  &lt;Technology&gt;\n    &lt;TechnologyName scales=\"global\"&gt;Technology&lt;/TechnologyName&gt;\n    &lt;DriftReduction type=\"float\" unit=\"1\" scales=\"global\"&gt;0.5&lt;/DriftReduction&gt;\n  &lt;/Technology&gt;\n  &lt;Technology&gt;\n    &lt;TechnologyName scales=\"global\"&gt;Technology2&lt;/TechnologyName&gt;\n    &lt;DriftReduction type=\"float\" unit=\"1\" scales=\"global\"&gt;0.4&lt;/DriftReduction&gt;\n  &lt;/Technology&gt;\n&lt;/Technologies&gt;\n</code></pre> This file holds information about the technologies used in the scenario.</li> <li>In the xToxicLoad/crop_protection folder, create an XML file named xCropProtection_SCENARIO.xml. This file tells xCropProtection which PPM Calendars it should use in a simulation run. The following text may be used as a starting point: xCropProtection_SCENARIO.xml<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xCropProtection\n    xmlns=\"urn:xCropProtectionLandscapeScenarioParametrization\" \n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n    xsi:schemaLocation=\"urn:xCropProtectionLandscapeScenarioParametrization ../model/core/components/xCropProtection/xCropProtection.xsd\"&gt;\n    &lt;PPMCalendars&gt;\n        &lt;PPMCalendar include=\"PPMCalendars/SCENARIO/PPMCalendar-SCENARIO-LULC1.xml\"/&gt;\n        &lt;PPMCalendar include=\"PPMCalendars/SCENARIO/PPMCalendar-SCENARIO-LULC2.xml\"/&gt;\n    &lt;/PPMCalendars&gt;\n    &lt;Technologies include=\"Technologies_SCENARIO.xml\"/&gt;\n&lt;/xCropProtection&gt;\n</code></pre> Note that the <code>include</code> attribute of <code>Technologies</code> may need to be modified to point to the new Technologies_SCENARIO.xml file. All file paths in this file are relative paths. The file structure of steps 2-5 should look like the following: <pre><code>\u251c\u2500\u2500 crop_protection\n\u2502   \u251c\u2500\u2500 PPMCalendars\n\u2502   \u2502   \u251c\u2500\u2500 SCENARIO\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 PPMCalendar-SCENARIO-LULC1.xml\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 PPMCalendar-SCENARIO-LULC2.xml\n\u2502   \u251c\u2500\u2500 Technologies_SCENARIO.xml\n\u2502   \u2514\u2500\u2500 xCropProtection_SCENARIO.xml\n</code></pre></li> <li>In the xToxicLoad/chemical folder, create a substance and product properties Excel file named SCENARIO_SUBSTANCE_PROPERTIES.xlsx by duplicating a substance and product properties file that already exists in the chemical folder. See the substance and product properties section for more detailed information on the contents of this file.</li> <li>Also in the xToxicLoad/chemical folder, there is a pre-existing SQLite database. This database contains information on the relationship between some products and active substances. If the scale of the xCropProtection input is \"product\" and the output scale is \"active substance\", this database will be queried to determine the active substance(s) included in a given product and in what amounts. If this situation applies to the new scenario, confirm that all relationships are already present in the database or that they are added. For more information on the structure of this database, see TODO.</li> <li>In the xToxicLoad folder, create a file named template_SCENARIO.xrun by duplicating and renaming an existing XRUN file. Parameterize this file using YAML or XML; information about the two formats is given in the template.xrun section of this page. template_SCENARIO.xrun<pre><code># $schema: ./model/variant/parameters.json\nProject: scenario/SCENARIO_NAME\nSimID: xToxicLoad-SCENARIO\nSimulationStart: 2020-01-01\nSimulationEnd: 2022-12-31\nCropProtectionScenario: xCropProtection_SCENARIO\nSubstanceAndProductProperties: SCENARIO_SUBSTANCE_PROPERTIES\nNumberMC: 1\nParallelProcesses: 1\n</code></pre></li> <li>In xToxicLoad/model/variant/mc.xml, in the <code>CropProtection</code> element, confirm that the values of the <code>OutputApplicationType</code> and <code>ProductDatabase</code> elements are correct before using the template_SCENARIO.xrun file to run the scenario. The mc.xml file is not specific to any one scenario, so it should be modified before running a different scenario.</li> </ol> <p>Overall, the following files should be created or modified: <pre><code>\u251c\u2500\u2500 chemical\n\u2502   \u251c\u2500\u2500 SCENARIO_SUBSTANCE_PROPERTIES.xlsx\n\u2502   \u2514\u2500\u2500 product-active-substance.db\n\u251c\u2500\u2500 crop_protection\n\u2502   \u251c\u2500\u2500 PPMCalendars\n\u2502   \u2502   \u251c\u2500\u2500 SCENARIO\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 PPMCalendar-SCENARIO-LULC1.xml\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 PPMCalendar-SCENARIO-LULC2.xml\n\u2502   \u251c\u2500\u2500 Technologies_SCENARIO.xml\n\u2502   \u2514\u2500\u2500 xCropProtection_SCENARIO.xml\n\u251c\u2500\u2500 model\n\u2502   \u251c\u2500\u2500 variant\n\u2502   \u2502   \u2514\u2500\u2500 mc.xml\n\u251c\u2500\u2500 scenario\n\u2502   \u251c\u2500\u2500 SCENARIO_NAME\n\u2502   \u2502   \u251c\u2500\u2500 geo\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 LULC.shp\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 LULC.shx\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 LULC.dbf\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 package.xinfo\n\u2502   \u2502   \u2514\u2500\u2500 scenario.xproject\n</code></pre></p>"}]}